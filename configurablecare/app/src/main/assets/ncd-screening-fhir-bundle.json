{
  "resourceType": "Bundle",
  "type": "transaction",
  "entry": [
    {
      "resource": {
        "resourceType": "PlanDefinition",
        "id": "NCD-Screening-Plan-Definition",
        "status": "active",
        "type": "workflow-definition",
        "meta": {
          "lastUpdated": "2021-11-11T04:20:49.542+00:00"
        },
        "url": "http://localhost/PlanDefinition/PlanDefinitionAdultPatient",
        "library": [
          "http://localhost/Library/ncdlibrary|1.0.0"
        ],
        "contained": [
          {
            "resourceType": "Bundle",
            "type": "transaction",
            "entry": [
              {
                "resource": {
                  "resourceType": "ActivityDefinition",
                  "id": "Activity-DiabetesMellitusScreening",
                  "url": "http://localhost/ActivityDefinition/Activity-DiabetesMellitusScreening",
                  "kind": "Task",
                  "relatedArtifact": {
                    "code": "depends-on",
                    "resource": "Questionnaire/DiabetesMellitusScreening"
                  },
                  "code": {
                    "coding": [
                      {
                        "system": "http://snomed.info/sct",
                        "code": "171183004",
                        "display": "Diabetes mellitus screening"
                      }
                    ]
                  },
                  "identifier": [
                    {
                      "system": "http://ncd.org",
                      "value": "diabetes-mellitus-screening-task"
                    }
                  ],
                  "library": [
                    "http://localhost/Library/ncdlibrary|1.0.0"
                  ],
                  "dynamicValue": [
                    {
                      "path": "focus",
                      "expression": {
                        "language": "text/cql.identifier",
                        "expression": "Get Diabetes Mellitus Questionnaire Reference"
                      }
                    },
                    {
                      "path": "description",
                      "expression": {
                        "language": "text/cql.identifier",
                        "expression": "Get Diabetes Mellitus Screening Description"
                      }
                    },
                    {
                      "path": "for",
                      "expression": {
                        "language": "text/cql.identifier",
                        "expression": "Get Patient Reference"
                      }
                    },
                    {
                      "path": "requester",
                      "expression": {
                        "language": "text/cql.identifier",
                        "expression": "Get PractitionerRole Reference"
                      }
                    },
                    {
                      "path": "owner",
                      "expression": {
                        "language": "text/cql.identifier",
                        "expression": "Get PractitionerRole Reference"
                      }
                    },
                    {
                      "path": "identifier",
                      "expression": {
                        "language": "text/cql.identifier",
                        "expression": "Get Diabetes Mellitus Screening Task Identifier"
                      }
                    }
                  ]
                },
                "request": {
                  "method": "PUT",
                  "url": "ActivityDefinition/Activity-DiabetesMellitusScreening"
                }
              },
              {
                "resource": {
                  "resourceType": "ActivityDefinition",
                  "id": "Activity-CKDScreening",
                  "url": "http://localhost/ActivityDefinition/Activity-CKDScreening",
                  "kind": "Task",
                  "relatedArtifact": {
                    "code": "depends-on",
                    "resource": "Questionnaire/CKDScreening"
                  },
                  "code": {
                    "coding": [
                      {
                        "system": "http://snomed.info/sct",
                        "code": "737429003",
                        "display": "Chronic kidney disease clinical management plan"
                      }
                    ]
                  },
                  "identifier": [
                    {
                      "system": "http://ncd.org",
                      "value": "ckd-screening-task"
                    }
                  ],
                  "library": [
                    "http://localhost/Library/ncdlibrary|1.0.0"
                  ],
                  "dynamicValue": [
                    {
                      "path": "focus",
                      "expression": {
                        "language": "text/cql.identifier",
                        "expression": "Get CKD Questionnaire Reference"
                      }
                    },
                    {
                      "path": "description",
                      "expression": {
                        "language": "text/cql.identifier",
                        "expression": "Get CKD Screening Description"
                      }
                    },
                    {
                      "path": "for",
                      "expression": {
                        "language": "text/cql.identifier",
                        "expression": "Get Patient Reference"
                      }
                    },
                    {
                      "path": "requester",
                      "expression": {
                        "language": "text/cql.identifier",
                        "expression": "Get PractitionerRole Reference"
                      }
                    },
                    {
                      "path": "owner",
                      "expression": {
                        "language": "text/cql.identifier",
                        "expression": "Get PractitionerRole Reference"
                      }
                    },
                    {
                      "path": "identifier",
                      "expression": {
                        "language": "text/cql.identifier",
                        "expression": "Get CKD Screening Task Identifier"
                      }
                    }
                  ]
                },
                "request": {
                  "method": "PUT",
                  "url": "ActivityDefinition/Activity-CKDScreening"
                }
              },
              {
                "resource": {
                  "resourceType": "ActivityDefinition",
                  "id": "Activity-HypertensionScreening",
                  "url": "http://localhost/ActivityDefinition/Activity-HypertensionScreening",
                  "kind": "Task",
                  "relatedArtifact": {
                    "code": "depends-on",
                    "resource": "Questionnaire/HypertensionScreening"
                  },
                  "code": {
                    "coding": [
                      {
                        "system": "http://snomed.info/sct",
                        "code": "171222001",
                        "display": "Hypertension screening"
                      }
                    ]
                  },
                  "identifier": [
                    {
                      "system": "http://ncd.org",
                      "value": "hypertension-screening-task"
                    }
                  ],
                  "library": [
                    "http://localhost/Library/ncdlibrary|1.0.0"
                  ],
                  "dynamicValue": [
                    {
                      "path": "focus",
                      "expression": {
                        "language": "text/cql.identifier",
                        "expression": "Get Hypertension Questionnaire Reference"
                      }
                    },
                    {
                      "path": "description",
                      "expression": {
                        "language": "text/cql.identifier",
                        "expression": "Get Hypertension Screening Description"
                      }
                    },
                    {
                      "path": "for",
                      "expression": {
                        "language": "text/cql.identifier",
                        "expression": "Get Patient Reference"
                      }
                    },
                    {
                      "path": "requester",
                      "expression": {
                        "language": "text/cql.identifier",
                        "expression": "Get PractitionerRole Reference"
                      }
                    },
                    {
                      "path": "owner",
                      "expression": {
                        "language": "text/cql.identifier",
                        "expression": "Get PractitionerRole Reference"
                      }
                    },
                    {
                      "path": "identifier",
                      "expression": {
                        "language": "text/cql.identifier",
                        "expression": "Get Hypertension Screening Task Identifier"
                      }
                    }
                  ]
                },
                "request": {
                  "method": "PUT",
                  "url": "ActivityDefinition/Activity-HypertensionScreening"
                }
              },
              {
                "resource": {
                  "resourceType": "ActivityDefinition",
                  "id": "Activity-MentalHealthScreening",
                  "url": "http://localhost/ActivityDefinition/Activity-MentalHealthScreening",
                  "kind": "Task",
                  "relatedArtifact": {
                    "code": "depends-on",
                    "resource": "Questionnaire/MentalHealthScreening"
                  },
                  "code": {
                    "coding": [
                      {
                        "system": "http://snomed.info/sct",
                        "code": "385892002",
                        "display": "Mental health screening"
                      }
                    ]
                  },
                  "identifier": [
                    {
                      "system": "http://ncd.org",
                      "value": "mental-health-screening-task"
                    }
                  ],
                  "library": [
                    "http://localhost/Library/ncdlibrary|1.0.0"
                  ],
                  "dynamicValue": [
                    {
                      "path": "focus",
                      "expression": {
                        "language": "text/cql.identifier",
                        "expression": "Get Mental Health Questionnaire Reference"
                      }
                    },
                    {
                      "path": "description",
                      "expression": {
                        "language": "text/cql-identifier",
                        "expression": "Get Mental Health Screening Description"
                      }
                    },
                    {
                      "path": "for",
                      "expression": {
                        "language": "text/cql.identifier",
                        "expression": "Get Patient Reference"
                      }
                    },
                    {
                      "path": "requester",
                      "expression": {
                        "language": "text/cql.identifier",
                        "expression": "Get PractitionerRole Reference"
                      }
                    },
                    {
                      "path": "owner",
                      "expression": {
                        "language": "text/cql.identifier",
                        "expression": "Get PractitionerRole Reference"
                      }
                    },
                    {
                      "path": "identifier",
                      "expression": {
                        "language": "text/cql.identifier",
                        "expression": "Get Mental Health Screening Task Identifier"
                      }
                    }
                  ]
                },
                "request": {
                  "method": "PUT",
                  "url": "ActivityDefinition/Activity-MentalHealthScreening"
                }
              },
              {
                "resource": {
                  "resourceType": "Library",
                  "id": "ncdlibrary",
                  "extension": [],
                  "url": "http://localhost/Library/ncdlibrary|1.0.0",
                  "version": "1.0.0",
                  "name": "ncdlibrary",
                  "relatedArtifact": [
                    {
                      "type": "depends-on",
                      "display": "FHIR model information",
                      "resource": "http://fhir.org/guides/cqf/common/Library/FHIR-ModelInfo|4.0.1"
                    },
                    {
                      "display": "Library FHIRHelpers",
                      "type": "depends-on",
                      "resource": "http://aphl.org/fhir/ecr/Library/FHIRHelpers|4.0.1"
                    }
                  ],
                  "content": [
                    {
                      "contentType": "text/cql",
                      "data": "bGlicmFyeSBuY2RsaWJyYXJ5IHZlcnNpb24gJzEuMC4wJwp1c2luZyBGSElSIHZlcnNpb24gJzQuMC4xJwppbmNsdWRlIEZISVJIZWxwZXJzIHZlcnNpb24gJzQuMC4xJwoKLy8gU05PTUVEIENvZGVzIGZvciBTY3JlZW5pbmdzCmNvZGVzeXN0ZW0gIlNOT01FRCI6ICdodHRwOi8vc25vbWVkLmluZm8vc2N0Jwpjb2RlICJCcmVhc3QgQ2FuY2VyIFNjcmVlbmluZyBTTk9NRUQgQ29kZSI6CiAgJzI2ODU0NzAwOCcgZnJvbSAiU05PTUVEIiBkaXNwbGF5ICdTY3JlZW5pbmcgZm9yIG1hbGlnbmFudCBuZW9wbGFzbSBvZiBicmVhc3QnCgpjb2RlICJEaWFiZXRlcyBNZWxsaXR1cyBTY3JlZW5pbmcgU05PTUVEIENvZGUiOgogICcxNzExODMwMDQnIGZyb20gIlNOT01FRCIgZGlzcGxheSAnRGlhYmV0ZXMgbWVsbGl0dXMgc2NyZWVuaW5nJwoKY29kZSAiQ0tEIFNjcmVlbmluZyBTTk9NRUQgQ29kZSI6CiAgJzczNzQyOTAwMycgZnJvbSAiU05PTUVEIiBkaXNwbGF5ICdDaHJvbmljIGtpZG5leSBkaXNlYXNlIGNsaW5pY2FsIG1hbmFnZW1lbnQgcGxhbicKCmNvZGUgIkh5cGVydGVuc2lvbiBTY3JlZW5pbmcgU05PTUVEIENvZGUiOgogICcxNzEyMjIwMDEnIGZyb20gIlNOT01FRCIgZGlzcGxheSAnSHlwZXJ0ZW5zaW9uIHNjcmVlbmluZycKCmNvZGUgIk1lbnRhbCBIZWFsdGggU2NyZWVuaW5nIFNOT01FRCBDb2RlIjoKICAnMzg1ODkyMDAyJyBmcm9tICJTTk9NRUQiIGRpc3BsYXkgJ01lbnRhbCBoZWFsdGggc2NyZWVuaW5nJwoKY29kZSAiQ2VydmljYWwgQ2FuY2VyIFNjcmVlbmluZyBTTk9NRUQgQ29kZSI6CiAgJzEyMzAwNDYwMDcnIGZyb20gIlNOT01FRCIgZGlzcGxheSAnQ2VydmljYWwgY2FuY2VyIHNjcmVlbmluZyBzZXJ2aWNlJwoKCmRlZmluZSAiR2V0IFByYWN0aXRpb25lclJvbGUiOiBbUHJhY3RpdGlvbmVyUm9sZV0gUCByZXR1cm4gUApkZWZpbmUgIkdldCBQcmFjdGl0aW9uZXJSb2xlIFJlZmVyZW5jZSI6IFJlZmVyZW5jZSB7CiAgcmVmZXJlbmNlOiBzdHJpbmcgeyB2YWx1ZTogJ1ByYWN0aXRpb25lclJvbGUvJyArICJHZXQgUHJhY3RpdGlvbmVyUm9sZSJbMF0uaWQgfSwKICBkaXNwbGF5OiBzdHJpbmcgeyB2YWx1ZTogIkdldCBQcmFjdGl0aW9uZXJSb2xlIlswXS5zcGVjaWFsdHlbMF0uY29kaW5nWzBdLmRpc3BsYXkgfQp9CgpkZWZpbmUgIkdldCBUYXNrIERlYWRsaW5lIjogVG9EYXRlKE5vdygpICsgMSB5ZWFyKQoKCmNvbnRleHQgUGF0aWVudAoKCi8vIFBhdGllbnQgT3BlcmF0aW9ucwpkZWZpbmUgIlBhdGllbnQgaXMgRmVtYWxlIjogUGF0aWVudC5nZW5kZXIgPSAnZmVtYWxlJwpkZWZpbmUgIlBhdGllbnQgaXMgTWFsZSI6IFBhdGllbnQuZ2VuZGVyID0gJ21hbGUnCmRlZmluZSAiUGF0aWVudCBpcyBBZHVsdCI6IFBhdGllbnQuYmlydGhEYXRlIDw9IFRvZGF5KCkgLSAxOCB5ZWFycwpkZWZpbmUgIlBhdGllbnQgaXMgRmVtYWxlIEFkdWx0IjogIlBhdGllbnQgaXMgRmVtYWxlIiBhbmQgIlBhdGllbnQgaXMgQWR1bHQiCmRlZmluZSAiUGF0aWVudCBpcyBNYWxlIEFkdWx0IjogIlBhdGllbnQgaXMgTWFsZSIgYW5kICJQYXRpZW50IGlzIEFkdWx0IgpkZWZpbmUgIkdldCBQYXRpZW50IFJlZmVyZW5jZSI6IFJlZmVyZW5jZSB7CiAgcmVmZXJlbmNlOiBzdHJpbmcgeyB2YWx1ZTogJ1BhdGllbnQvJyArIFBhdGllbnQuaWR9Cn0KCgovLyBCcmVhc3QgQ2FuY2VyIFNjcmVlbmluZwpkZWZpbmUgIkdldCBCcmVhc3QgQ2FuY2VyIFNjcmVlbmluZyBEZXNjcmlwdGlvbiI6ICdCcmVhc3QgQ2FuY2VyIFNjcmVlbmluZycKZGVmaW5lICJHZXQgQnJlYXN0IENhbmNlciBTY3JlZW5pbmcgUXVlc3Rpb25uYWlyZSBSZWZlcmVuY2UiOiBSZWZlcmVuY2UgewogIHJlZmVyZW5jZTogc3RyaW5nIHsgdmFsdWU6ICdRdWVzdGlvbm5haXJlL0JyZWFzdENhbmNlclNjcmVlbmluZyd9Cn0KZGVmaW5lICJCcmVhc3QgQ2FuY2VyIFNjcmVlbmluZyBDb2RlIjogQ29uY2VwdCB7CkNvZGUgJzI2ODU0NzAwOCcgZnJvbSAiU05PTUVEIiBkaXNwbGF5ICdTY3JlZW5pbmcgZm9yIG1hbGlnbmFudCBuZW9wbGFzbSBvZiBicmVhc3QgKHByb2NlZHVyZSknCn0KZGVmaW5lICJHZXQgQnJlYXN0IENhbmNlciBTY3JlZW5pbmcgVGFzayBJZGVudGlmaWVyIjogSWRlbnRpZmllciB7CiAgc3lzdGVtOiB1cmkge3ZhbHVlOiAnaHR0cDovL25jZC5vcmcnfSwKICB2YWx1ZTogc3RyaW5nIHt2YWx1ZTogJ2JyZWFzdC1jYW5jZXItc2NyZWVuaW5nLXRhc2snfQp9CmRlZmluZSAiQnJlYXN0IENhbmNlciBTY3JlZW5pbmcgVGFza3MiOiBbVGFzazogIkJyZWFzdCBDYW5jZXIgU2NyZWVuaW5nIFNOT01FRCBDb2RlIl0KZGVmaW5lICJCcmVhc3QgQ2FuY2VyIFNjcmVlbmluZyBUYXNrcyBDb3VudCI6IENvdW50KCJCcmVhc3QgQ2FuY2VyIFNjcmVlbmluZyBUYXNrcyIpCmRlZmluZSAiTm8gQnJlYXN0IENhbmNlciBTY3JlZW5pbmcgVGFzayBQcmVzZW50IjogIkJyZWFzdCBDYW5jZXIgU2NyZWVuaW5nIFRhc2tzIENvdW50IiA9IDAKLy9kZWZpbmUgIkVsaWdpYmxlIGZvciBCcmVhc3QgQ2FuY2VyIFNjcmVlbmluZyI6ICJQYXRpZW50IGlzIEZlbWFsZSBBZHVsdCIgYW5kICJObyBCcmVhc3QgQ2FuY2VyIFNjcmVlbmluZyBUYXNrIFByZXNlbnQiCmRlZmluZSAiQ29tcGxldGVkIEJyZWFzdCBDYW5jZXIgU2NyZWVuaW5nIFRhc2tzIjogW1Rhc2s6ICJCcmVhc3QgQ2FuY2VyIFNjcmVlbmluZyBTTk9NRUQgQ29kZSJdIFQgd2hlcmUgVC5zdGF0dXMgPSAnY29tcGxldGVkJwpkZWZpbmUgIkNvbXBsZXRlZCBCcmVhc3QgQ2FuY2VyIFNjcmVlbmluZyBUYXNrcyBDb3VudCI6IENvdW50KCJDb21wbGV0ZWQgQnJlYXN0IENhbmNlciBTY3JlZW5pbmcgVGFza3MiKQpkZWZpbmUgIlN0cmluZyBDb21wbGV0ZWQgQnJlYXN0IENhbmNlciBTY3JlZW5pbmcgVGFza3MiOiAoVG9TdHJpbmcoIkNvbXBsZXRlZCBCcmVhc3QgQ2FuY2VyIFNjcmVlbmluZyBUYXNrcyBDb3VudCIpKQpkZWZpbmUgIkVsaWdpYmxlIGZvciBCcmVhc3QgQ2FuY2VyIFNjcmVlbmluZyI6ICJQYXRpZW50IGlzIEZlbWFsZSBBZHVsdCIgYW5kICJObyBCcmVhc3QgQ2FuY2VyIFNjcmVlbmluZyBUYXNrIFByZXNlbnQiCgoKCi8vIENlcnZpY2FsIENhbmNlciBTY3JlZW5pbmcKZGVmaW5lICJHZXQgQ2VydmljYWwgQ2FuY2VyIFNjcmVlbmluZyBEZXNjcmlwdGlvbiI6ICdDZXJ2aWNhbCBDYW5jZXIgU2NyZWVuaW5nJwpkZWZpbmUgIkdldCBDZXJ2aWNhbCBDYW5jZXIgU2NyZWVuaW5nIFF1ZXN0aW9ubmFpcmUgUmVmZXJlbmNlIjogUmVmZXJlbmNlIHsKICByZWZlcmVuY2U6IHN0cmluZyB7IHZhbHVlOiAnUXVlc3Rpb25uYWlyZS9DZXJ2aWNhbENhbmNlclNjcmVlbmluZyd9Cn0KZGVmaW5lICJHZXQgQ2VydmljYWwgQ2FuY2VyIFNjcmVlbmluZyBUYXNrIElkZW50aWZpZXIiOiBJZGVudGlmaWVyIHsKICBzeXN0ZW06IHVyaSB7dmFsdWU6ICdodHRwOi8vbmNkLm9yZyd9LAogIHZhbHVlOiBzdHJpbmcge3ZhbHVlOiAnY2VydmljYWwtY2FuY2VyLXNjcmVlbmluZy10YXNrJ30KfQpkZWZpbmUgIkNlcnZpY2FsIENhbmNlciBTY3JlZW5pbmcgVGFza3MiOiBbVGFzazogIkNlcnZpY2FsIENhbmNlciBTY3JlZW5pbmcgU05PTUVEIENvZGUiXQpkZWZpbmUgIkNlcnZpY2FsIENhbmNlciBTY3JlZW5pbmcgVGFza3MgQ291bnQiOiBDb3VudCgiQ2VydmljYWwgQ2FuY2VyIFNjcmVlbmluZyBUYXNrcyIpCmRlZmluZSAiTm8gQ2VydmljYWwgQ2FuY2VyIFNjcmVlbmluZyBUYXNrIFByZXNlbnQiOiAiQ2VydmljYWwgQ2FuY2VyIFNjcmVlbmluZyBUYXNrcyBDb3VudCIgPSAwCi8vZGVmaW5lICJFbGlnaWJsZSBmb3IgQ2VydmljYWwgQ2FuY2VyIFNjcmVlbmluZyI6ICJQYXRpZW50IGlzIEZlbWFsZSBBZHVsdCIgYW5kICJObyBDZXJ2aWNhbCBDYW5jZXIgU2NyZWVuaW5nIFRhc2sgUHJlc2VudCIKZGVmaW5lICJDb21wbGV0ZWQgQ2VydmljYWwgQ2FuY2VyIFNjcmVlbmluZyBUYXNrcyI6IFtUYXNrOiAiQ2VydmljYWwgQ2FuY2VyIFNjcmVlbmluZyBTTk9NRUQgQ29kZSJdIFQgd2hlcmUgVC5zdGF0dXMgPSAnY29tcGxldGVkJwpkZWZpbmUgIkNvbXBsZXRlZCBDZXJ2aWNhbCBDYW5jZXIgU2NyZWVuaW5nIFRhc2tzIENvdW50IjogQ291bnQoIkNvbXBsZXRlZCBDZXJ2aWNhbCBDYW5jZXIgU2NyZWVuaW5nIFRhc2tzIikKZGVmaW5lICJFbGlnaWJsZSBmb3IgQ2VydmljYWwgQ2FuY2VyIFNjcmVlbmluZyI6ICJQYXRpZW50IGlzIEZlbWFsZSBBZHVsdCIgYW5kICJObyBDZXJ2aWNhbCBDYW5jZXIgU2NyZWVuaW5nIFRhc2sgUHJlc2VudCIKCgoKLy8gRGlhYmV0ZXMgTWVsbGl0dXMgU2NyZWVuaW5nCmRlZmluZSAiR2V0IERpYWJldGVzIE1lbGxpdHVzIFNjcmVlbmluZyBEZXNjcmlwdGlvbiI6ICdEaWFiZXRlcyBNZWxsaXR1cyBTY3JlZW5pbmcnCmRlZmluZSAiR2V0IERpYWJldGVzIE1lbGxpdHVzIFF1ZXN0aW9ubmFpcmUgUmVmZXJlbmNlIjogUmVmZXJlbmNlIHsKICByZWZlcmVuY2U6IHN0cmluZyB7IHZhbHVlOiAnUXVlc3Rpb25uYWlyZS9EaWFiZXRlc01lbGxpdHVzU2NyZWVuaW5nJ30KfQpkZWZpbmUgIkdldCBEaWFiZXRlcyBNZWxsaXR1cyBTY3JlZW5pbmcgVGFzayBJZGVudGlmaWVyIjogSWRlbnRpZmllciB7CiAgc3lzdGVtOiB1cmkge3ZhbHVlOiAnaHR0cDovL25jZC5vcmcnfSwKICB2YWx1ZTogc3RyaW5nIHt2YWx1ZTogJ2RpYWJldGVzLW1lbGxpdHVzLXNjcmVlbmluZy10YXNrJ30KfQpkZWZpbmUgIkRpYWJldGVzIE1lbGxpdHVzIFNjcmVlbmluZyBUYXNrcyI6IFtUYXNrOiAiRGlhYmV0ZXMgTWVsbGl0dXMgU2NyZWVuaW5nIFNOT01FRCBDb2RlIl0KZGVmaW5lICJEaWFiZXRlcyBNZWxsaXR1cyBTY3JlZW5pbmcgVGFza3MgQ291bnQiOiBDb3VudCgiRGlhYmV0ZXMgTWVsbGl0dXMgU2NyZWVuaW5nIFRhc2tzIikKZGVmaW5lICJObyBEaWFiZXRlcyBNZWxsaXR1cyBTY3JlZW5pbmcgVGFzayBQcmVzZW50IjogIkRpYWJldGVzIE1lbGxpdHVzIFNjcmVlbmluZyBUYXNrcyBDb3VudCIgPSAwCi8vZGVmaW5lICJFbGlnaWJsZSBmb3IgRGlhYmV0ZXMgTWVsbGl0dXMgU2NyZWVuaW5nIjogIlBhdGllbnQgaXMgQWR1bHQiIGFuZCAiTm8gRGlhYmV0ZXMgTWVsbGl0dXMgU2NyZWVuaW5nIFRhc2sgUHJlc2VudCIKZGVmaW5lICJDb21wbGV0ZWQgRGlhYmV0ZXMgTWVsbGl0dXMgU2NyZWVuaW5nIFRhc2tzIjogW1Rhc2s6ICJEaWFiZXRlcyBNZWxsaXR1cyBTY3JlZW5pbmcgU05PTUVEIENvZGUiXSBUIHdoZXJlIFQuc3RhdHVzID0gJ2NvbXBsZXRlZCcKZGVmaW5lICJDb21wbGV0ZWQgRGlhYmV0ZXMgTWVsbGl0dXMgU2NyZWVuaW5nIFRhc2tzIENvdW50IjogQ291bnQoIkNvbXBsZXRlZCBEaWFiZXRlcyBNZWxsaXR1cyBTY3JlZW5pbmcgVGFza3MiKQpkZWZpbmUgIkVsaWdpYmxlIGZvciBEaWFiZXRlcyBNZWxsaXR1cyBTY3JlZW5pbmciOiAiUGF0aWVudCBpcyBBZHVsdCIgYW5kICJObyBEaWFiZXRlcyBNZWxsaXR1cyBTY3JlZW5pbmcgVGFzayBQcmVzZW50IgoKCgovLyBDaHJvbmljIEtpZG5leSBEaXNlYXNlIChDS0QpIFNjcmVlbmluZwpkZWZpbmUgIkdldCBDS0QgU2NyZWVuaW5nIERlc2NyaXB0aW9uIjogJ0Nocm9uaWMgS2lkbmV5IERpc2Vhc2UgKENLRCkgU2NyZWVuaW5nJwpkZWZpbmUgIkdldCBDS0QgUXVlc3Rpb25uYWlyZSBSZWZlcmVuY2UiOiBSZWZlcmVuY2UgewogIHJlZmVyZW5jZTogc3RyaW5nIHsgdmFsdWU6ICdRdWVzdGlvbm5haXJlL0NLRFNjcmVlbmluZyd9Cn0KZGVmaW5lICJHZXQgQ0tEIFNjcmVlbmluZyBUYXNrIElkZW50aWZpZXIiOiBJZGVudGlmaWVyIHsKICBzeXN0ZW06IHVyaSB7dmFsdWU6ICdodHRwOi8vbmNkLm9yZyd9LAogIHZhbHVlOiBzdHJpbmcge3ZhbHVlOiAnY2tkLXNjcmVlbmluZy10YXNrJ30KfQpkZWZpbmUgIkNLRCBTY3JlZW5pbmcgVGFza3MiOiBbVGFzazogIkNLRCBTY3JlZW5pbmcgU05PTUVEIENvZGUiXQpkZWZpbmUgIkNLRCBTY3JlZW5pbmcgVGFza3MgQ291bnQiOiBDb3VudCgiQ0tEIFNjcmVlbmluZyBUYXNrcyIpCmRlZmluZSAiTm8gQ0tEIFNjcmVlbmluZyBUYXNrIFByZXNlbnQiOiAiQ0tEIFNjcmVlbmluZyBUYXNrcyBDb3VudCIgPSAwCi8vZGVmaW5lICJFbGlnaWJsZSBmb3IgQ0tEIFNjcmVlbmluZyI6ICJQYXRpZW50IGlzIEFkdWx0IiBhbmQgIk5vIENLRCBTY3JlZW5pbmcgVGFzayBQcmVzZW50IgpkZWZpbmUgIkNvbXBsZXRlZCBDS0QgU2NyZWVuaW5nIFRhc2tzIjogW1Rhc2s6ICJDS0QgU2NyZWVuaW5nIFNOT01FRCBDb2RlIl0gVCB3aGVyZSBULnN0YXR1cyA9ICdjb21wbGV0ZWQnCmRlZmluZSAiQ29tcGxldGVkIENLRCBTY3JlZW5pbmcgVGFza3MgQ291bnQiOiBDb3VudCgiQ29tcGxldGVkIENLRCBTY3JlZW5pbmcgVGFza3MiKQpkZWZpbmUgIkVsaWdpYmxlIGZvciBDS0QgU2NyZWVuaW5nIjogIlBhdGllbnQgaXMgQWR1bHQiIGFuZCAiTm8gQ0tEIFNjcmVlbmluZyBUYXNrIFByZXNlbnQiCgoKCi8vIEh5cGVydGVuc2lvbiBTY3JlZW5pbmcKZGVmaW5lICJHZXQgSHlwZXJ0ZW5zaW9uIFNjcmVlbmluZyBEZXNjcmlwdGlvbiI6ICdIeXBlcnRlbnNpb24gU2NyZWVuaW5nJwpkZWZpbmUgIkdldCBIeXBlcnRlbnNpb24gUXVlc3Rpb25uYWlyZSBSZWZlcmVuY2UiOiBSZWZlcmVuY2UgewogIHJlZmVyZW5jZTogc3RyaW5nIHsgdmFsdWU6ICdRdWVzdGlvbm5haXJlL0h5cGVydGVuc2lvblNjcmVlbmluZyd9Cn0KZGVmaW5lICJHZXQgSHlwZXJ0ZW5zaW9uIFNjcmVlbmluZyBUYXNrIElkZW50aWZpZXIiOiBJZGVudGlmaWVyIHsKICBzeXN0ZW06IHVyaSB7dmFsdWU6ICdodHRwOi8vbmNkLm9yZyd9LAogIHZhbHVlOiBzdHJpbmcge3ZhbHVlOiAnaHlwZXJ0ZW5zaW9uLXNjcmVlbmluZy10YXNrJ30KfQpkZWZpbmUgIkh5cGVydGVuc2lvbiBTY3JlZW5pbmcgVGFza3MiOiBbVGFzazogIkh5cGVydGVuc2lvbiBTY3JlZW5pbmcgU05PTUVEIENvZGUiXQpkZWZpbmUgIkh5cGVydGVuc2lvbiBTY3JlZW5pbmcgVGFza3MgQ291bnQiOiBDb3VudCgiSHlwZXJ0ZW5zaW9uIFNjcmVlbmluZyBUYXNrcyIpCmRlZmluZSAiTm8gSHlwZXJ0ZW5zaW9uIFNjcmVlbmluZyBUYXNrIFByZXNlbnQiOiAiSHlwZXJ0ZW5zaW9uIFNjcmVlbmluZyBUYXNrcyBDb3VudCIgPSAwCi8vZGVmaW5lICJFbGlnaWJsZSBmb3IgSHlwZXJ0ZW5zaW9uIFNjcmVlbmluZyI6ICJQYXRpZW50IGlzIEFkdWx0IiBhbmQgIk5vIEh5cGVydGVuc2lvbiBTY3JlZW5pbmcgVGFzayBQcmVzZW50IgpkZWZpbmUgIkNvbXBsZXRlZCBIeXBlcnRlbnNpb24gU2NyZWVuaW5nIFRhc2tzIjogW1Rhc2s6ICJIeXBlcnRlbnNpb24gU2NyZWVuaW5nIFNOT01FRCBDb2RlIl0gVCB3aGVyZSBULnN0YXR1cyA9ICdjb21wbGV0ZWQnCmRlZmluZSAiQ29tcGxldGVkIEh5cGVydGVuc2lvbiBTY3JlZW5pbmcgVGFza3MgQ291bnQiOiBDb3VudCgiQ29tcGxldGVkIEh5cGVydGVuc2lvbiBTY3JlZW5pbmcgVGFza3MiKQpkZWZpbmUgIkVsaWdpYmxlIGZvciBIeXBlcnRlbnNpb24gU2NyZWVuaW5nIjogIlBhdGllbnQgaXMgQWR1bHQiIGFuZCAiTm8gSHlwZXJ0ZW5zaW9uIFNjcmVlbmluZyBUYXNrIFByZXNlbnQiCgoKCi8vIE1lbnRhbCBIZWFsdGggU2NyZWVuaW5nCmRlZmluZSAiR2V0IE1lbnRhbCBIZWFsdGggU2NyZWVuaW5nIERlc2NyaXB0aW9uIjogJ01lbnRhbCBIZWFsdGggU2NyZWVuaW5nJwpkZWZpbmUgIkdldCBNZW50YWwgSGVhbHRoIFF1ZXN0aW9ubmFpcmUgUmVmZXJlbmNlIjogUmVmZXJlbmNlIHsKICByZWZlcmVuY2U6IHN0cmluZyB7IHZhbHVlOiAnUXVlc3Rpb25uYWlyZS9NZW50YWxIZWFsdGhTY3JlZW5pbmcnfQp9CmRlZmluZSAiR2V0IE1lbnRhbCBIZWFsdGggU2NyZWVuaW5nIFRhc2sgSWRlbnRpZmllciI6IElkZW50aWZpZXIgewogIHN5c3RlbTogdXJpIHt2YWx1ZTogJ2h0dHA6Ly9uY2Qub3JnJ30sCiAgdmFsdWU6IHN0cmluZyB7dmFsdWU6ICdtZW50YWwtaGVhbHRoLXNjcmVlbmluZy10YXNrJ30KfQpkZWZpbmUgIk1lbnRhbCBIZWFsdGggU2NyZWVuaW5nIFRhc2tzIjogW1Rhc2s6ICJNZW50YWwgSGVhbHRoIFNjcmVlbmluZyBTTk9NRUQgQ29kZSJdCmRlZmluZSAiTWVudGFsIEhlYWx0aCBTY3JlZW5pbmcgVGFza3MgQ291bnQiOiBDb3VudCgiTWVudGFsIEhlYWx0aCBTY3JlZW5pbmcgVGFza3MiKQpkZWZpbmUgIk5vIE1lbnRhbCBIZWFsdGggU2NyZWVuaW5nIFRhc2sgUHJlc2VudCI6ICJNZW50YWwgSGVhbHRoIFNjcmVlbmluZyBUYXNrcyBDb3VudCIgPSAwCi8vZGVmaW5lICJFbGlnaWJsZSBmb3IgTWVudGFsIEhlYWx0aCBTY3JlZW5pbmciOiAiUGF0aWVudCBpcyBBZHVsdCIgYW5kICJObyBNZW50YWwgSGVhbHRoIFNjcmVlbmluZyBUYXNrIFByZXNlbnQiCmRlZmluZSAiQ29tcGxldGVkIE1lbnRhbCBIZWFsdGggU2NyZWVuaW5nIFRhc2tzIjogW1Rhc2s6ICJNZW50YWwgSGVhbHRoIFNjcmVlbmluZyBTTk9NRUQgQ29kZSJdIFQgd2hlcmUgVC5zdGF0dXMgPSAnY29tcGxldGVkJwpkZWZpbmUgIkNvbXBsZXRlZCBNZW50YWwgSGVhbHRoIFNjcmVlbmluZyBUYXNrcyBDb3VudCI6IENvdW50KCJDb21wbGV0ZWQgTWVudGFsIEhlYWx0aCBTY3JlZW5pbmcgVGFza3MiKQpkZWZpbmUgIkVsaWdpYmxlIGZvciBNZW50YWwgSGVhbHRoIFNjcmVlbmluZyI6ICJQYXRpZW50IGlzIEFkdWx0IiBhbmQgIk5vIE1lbnRhbCBIZWFsdGggU2NyZWVuaW5nIFRhc2sgUHJlc2VudCI="
                    }
                  ]
                },
                "request": {
                  "method": "PUT",
                  "url": "Library/ncdlibrary"
                }
              },
              {
                "resource": {
                  "resourceType": "Questionnaire",
                  "id": "CKDScreening",
                  "title": "Chronic Kidney Disease (CKD) Screening",
                  "description": "Chronic Kidney Disease (CKD) Screening",
                  "status": "draft",
                  "purpose": "Chronic Kidney Disease (CKD) Screening",
                  "identifier": {
                    "system": "http://localhost/Questionnaires",
                    "value": "CKDScreening"
                  },
                  "extension": [
                    {
                      "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-entryMode",
                      "valueCode": "prior-edit"
                    },
                    {
                      "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                      "valueExpression": {
                        "language": "application/x-fhir-query",
                        "expression": "Encounter",
                        "name": "CKDScreeningEncounter"
                      }
                    }
                  ],
                  "item": [
                    {
                      "linkId": "symptoms",
                      "text": "Symptoms",
                      "type": "group",
                      "readOnly": true,
                      "extension": [
                        {
                          "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                          "valueCodeableConcept": {
                            "coding": [
                              {
                                "system": "http://hl7.org/fhir/questionnaire-item-control",
                                "code": "page",
                                "display": "Page"
                              }
                            ],
                            "text": "Page"
                          }
                        }
                      ],
                      "item": [
                        {
                          "linkId": "symptoms-choice",
                          "text": "Are you presently experiencing any of the following symptom(s)?",
                          "type": "choice",
                          "answerOption": [
                            {
                              "valueCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "278528006",
                                "display": "Facial swelling"
                              }
                            },
                            {
                              "valueCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "248480008",
                                "display": "Leg swelling symptom"
                              }
                            },
                            {
                              "valueCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "102835006",
                                "display": "Difficulty passing urine"
                              }
                            },
                            {
                              "extension": [
                                {
                                  "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-optionExclusive",
                                  "valueBoolean": true
                                }
                              ],
                              "valueCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "161915001",
                                "display": "No general symptom"
                              }
                            }
                          ],
                          "repeats": true,
                          "required": true,
                          "readOnly": false
                        },
                        {
                          "linkId": "symptom-facial-swelling",
                          "type": "group",
                          "extension": [
                            {
                              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                              "valueExpression": {
                                "language": "application/x-fhir-query",
                                "expression": "Condition",
                                "name": "facialSwelling"
                              }
                            },
                            {
                              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                              "valueBoolean": true
                            }
                          ],
                          "enableWhen": [
                            {
                              "question": "symptoms-choice",
                              "operator": "=",
                              "answerCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "278528006",
                                "display": "Facial swelling"
                              }
                            }
                          ],
                          "item": [
                            {
                              "linkId": "condition-facial-swelling",
                              "type": "choice",
                              "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                              "initial": [
                                {
                                  "valueCoding": {
                                    "system": "http://snomed.info/sct",
                                    "code": "278528006",
                                    "display": "Facial swelling"
                                  }
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "linkId": "symptom-leg-swelling",
                          "type": "group",
                          "extension": [
                            {
                              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                              "valueExpression": {
                                "language": "application/x-fhir-query",
                                "expression": "Condition",
                                "name": "legSwelling"
                              }
                            },
                            {
                              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                              "valueBoolean": true
                            }
                          ],
                          "enableWhen": [
                            {
                              "question": "symptoms-choice",
                              "operator": "=",
                              "answerCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "248480008",
                                "display": "Leg swelling symptom"
                              }
                            }
                          ],
                          "item": [
                            {
                              "linkId": "condition-leg-swelling",
                              "type": "choice",
                              "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                              "initial": [
                                {
                                  "valueCoding": {
                                    "system": "http://snomed.info/sct",
                                    "code": "248480008",
                                    "display": "Leg swelling symptom"
                                  }
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "linkId": "symptom-difficulty-passing-urine",
                          "type": "group",
                          "extension": [
                            {
                              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                              "valueExpression": {
                                "language": "application/x-fhir-query",
                                "expression": "Condition",
                                "name": "DifficultyPassingUrine"
                              }
                            },
                            {
                              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                              "valueBoolean": true
                            }
                          ],
                          "enableWhen": [
                            {
                              "question": "symptoms-choice",
                              "operator": "=",
                              "answerCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "102835006",
                                "display": "Difficulty passing urine"
                              }
                            }
                          ],
                          "item": [
                            {
                              "linkId": "condition-difficulty-passing-urine",
                              "type": "choice",
                              "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                              "initial": [
                                {
                                  "valueCoding": {
                                    "system": "http://snomed.info/sct",
                                    "code": "102835006",
                                    "display": "Difficulty passing urine"
                                  }
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "linkId": "no-symptoms",
                          "type": "group",
                          "extension": [
                            {
                              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                              "valueExpression": {
                                "language": "application/x-fhir-query",
                                "expression": "Condition",
                                "name": "noSymptoms"
                              }
                            },
                            {
                              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                              "valueBoolean": true
                            }
                          ],
                          "enableWhen": [
                            {
                              "question": "symptoms-choice",
                              "operator": "=",
                              "answerCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "161915001",
                                "display": "No general symptom"
                              }
                            }
                          ],
                          "item": [
                            {
                              "type": "choice",
                              "linkId": "no-general-symptom",
                              "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                              "initial": [
                                {
                                  "valueCoding": {
                                    "system": "http://snomed.info/sct",
                                    "code": "161915001",
                                    "display": "No general symptom"
                                  }
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "linkId": "remarks-optional",
                          "text": "Remarks (optional)",
                          "type": "string",
                          "required": false,
                          "maxLength": 200
                        }
                      ]
                    }
                  ]
                },
                "request": {
                  "method": "PUT",
                  "url": "Questionnaire/CKDScreening"
                }
              },
              {
                "resource": {
                  "resourceType": "Questionnaire",
                  "id": "HypertensionScreening",
                  "title": "Hypertension Screening",
                  "status": "draft",
                  "description": "Hypertension Screening",
                  "purpose": "Hypertension Screening",
                  "identifier": {
                    "system": "http://localhost/Questionnaires",
                    "value": "HypertensionScreening"
                  },
                  "extension": [
                    {
                      "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-entryMode",
                      "valueCode": "prior-edit"
                    },
                    {
                      "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                      "valueExpression": {
                        "language": "application/x-fhir-query",
                        "expression": "Encounter",
                        "name": "hypertensionScreeningEncounter"
                      }
                    }
                  ],
                  "item": [
                    {
                      "linkId": "observation-group",
                      "type": "group",
                      "extension": [
                        {
                          "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                          "valueCodeableConcept": {
                            "coding": [
                              {
                                "system": "http://hl7.org/fhir/questionnaire-item-control",
                                "code": "page",
                                "display": "Page"
                              }
                            ],
                            "text": "Page"
                          }
                        },
                        {
                          "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                          "valueExpression": {
                            "language": "application/x-fhir-query",
                            "expression": "Observation",
                            "name": "observation"
                          }
                        }
                      ],
                      "item": [
                        {
                          "text": "Blood Pressure [mm Hg]",
                          "linkId": "blood-pressure",
                          "type": "group",
                          "extension": [
                            {
                              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                              "valueCodeableConcept": {
                                "coding": [
                                  {
                                    "system": "http://hl7.org/fhir/questionnaire-item-control",
                                    "code": "page",
                                    "display": "Page"
                                  }
                                ],
                                "text": "Page"
                              }
                            }
                          ],
                          "item": [
                            {
                              "linkId": "bp-code",
                              "extension": [
                                {
                                  "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                                  "valueBoolean": true
                                }
                              ],
                              "definition": "http://hl7.org/fhir/StructureDefinition/Observation#Observation.code",
                              "type": "choice",
                              "initial": [
                                {
                                  "valueCoding": {
                                    "system": "http://loinc.org",
                                    "code": "85354-9",
                                    "display": "Blood pressure panel with all children optional"
                                  }
                                }
                              ]
                            },
                            {
                              "linkId": "systolic-bp",
                              "definition": "http://hl7.org/fhir/StructureDefinition/Observation#Observation.component",
                              "type": "group",
                              "item": [
                                {
                                  "linkId": "systolic-bp-obs-code",
                                  "type": "group",
                                  "item": [
                                    {
                                      "linkId": "systolic-bp-code",
                                      "extension": [
                                        {
                                          "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                                          "valueBoolean": true
                                        }
                                      ],
                                      "definition": "http://hl7.org/fhir/StructureDefinition/Observation#Observation.component.code",
                                      "type": "choice",
                                      "initial": [
                                        {
                                          "valueCoding": {
                                            "code": "8480-6",
                                            "display": "Systolic Blood Pressure",
                                            "system": "http://loinc.org"
                                          }
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "linkId": "systolic-bp-value",
                                  "definition": "http://hl7.org/fhir/StructureDefinition/Observation#Observation.component.valueQuantity.value",
                                  "text": "Systolic BP",
                                  "type": "integer",
                                  "required": true
                                }
                              ]
                            },
                            {
                              "linkId": "diastolic-bp",
                              "definition": "http://hl7.org/fhir/StructureDefinition/Observation#Observation.component",
                              "type": "group",
                              "item": [
                                {
                                  "linkId": "diastolic-bp-obs-code",
                                  "type": "group",
                                  "item": [
                                    {
                                      "linkId": "diastolic-bp-code",
                                      "extension": [
                                        {
                                          "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                                          "valueBoolean": true
                                        }
                                      ],
                                      "definition": "http://hl7.org/fhir/StructureDefinition/Observation#Observation.component.code",
                                      "type": "choice",
                                      "initial": [
                                        {
                                          "valueCoding": {
                                            "code": "8462-4",
                                            "display": "Diastolic Blood Pressure",
                                            "system": "http://loinc.org"
                                          }
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "linkId": "diastolic-bp-value",
                                  "definition": "http://hl7.org/fhir/StructureDefinition/Observation#Observation.component.valueQuantity",
                                  "text": "Diastolic BP",
                                  "type": "integer",
                                  "required": true
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "text": "Normal",
                          "linkId": "normal-outcome",
                          "type": "display",
                          "enableWhen": [
                            {
                              "question": "systolic-bp-value",
                              "operator": "<",
                              "answerInteger": 140
                            },
                            {
                              "question": "diastolic-bp-value",
                              "operator": "<",
                              "answerInteger": 90
                            }
                          ],
                          "enableBehavior": "all"
                        },
                        {
                          "text": "Suspected Hypertension",
                          "linkId": "suspected-hypertension-outcome",
                          "type": "display",
                          "enableWhen": [
                            {
                              "question": "systolic-bp-value",
                              "operator": ">=",
                              "answerInteger": 140
                            },
                            {
                              "question": "diastolic-bp-value",
                              "operator": ">=",
                              "answerInteger": 90
                            }
                          ],
                          "enableBehavior": "any"
                        }
                      ]
                    },
                    {
                      "text": "Symptoms and Outcome",
                      "linkId": "symptoms-outcome",
                      "type": "group",
                      "required": false,
                      "readOnly": true,
                      "extension": [
                        {
                          "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                          "valueCodeableConcept": {
                            "coding": [
                              {
                                "system": "http://hl7.org/fhir/questionnaire-item-control",
                                "code": "page",
                                "display": "Page"
                              }
                            ],
                            "text": "Page"
                          }
                        }
                      ],
                      "item": [
                        {
                          "text": "Are you presently experiencing any of the following symptom(s)?",
                          "type": "choice",
                          "linkId": "symptoms-choice",
                          "repeats": true,
                          "required": true,
                          "answerOption": [
                            {
                              "valueCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "80313002",
                                "display": "Palpitations"
                              }
                            },
                            {
                              "valueCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "404640003",
                                "display": "Dizziness"
                              }
                            },
                            {
                              "valueCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "84229001",
                                "display": "Fatigue"
                              }
                            },
                            {
                              "valueCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "29857009",
                                "display": "Chest Pain"
                              }
                            },
                            {
                              "valueCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "230145002",
                                "display": "Difficulty breathing"
                              }
                            },
                            {
                              "extension": [
                                {
                                  "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-optionExclusive",
                                  "valueBoolean": true
                                }
                              ],
                              "valueCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "161915001",
                                "display": "No general symptom"
                              }
                            }
                          ]
                        },
                        {
                          "linkId": "symptom-palpitations",
                          "type": "group",
                          "extension": [
                            {
                              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                              "valueExpression": {
                                "language": "application/x-fhir-query",
                                "expression": "Condition",
                                "name": "palpitations"
                              }
                            },
                            {
                              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                              "valueBoolean": true
                            }
                          ],
                          "enableWhen": [
                            {
                              "question": "symptoms-choice",
                              "operator": "=",
                              "answerCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "80313002",
                                "display": "Palpitations"
                              }
                            }
                          ],
                          "item": [
                            {
                              "type": "choice",
                              "linkId": "condition-palpitations",
                              "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                              "initial": [
                                {
                                  "valueCoding": {
                                    "system": "http://snomed.info/sct",
                                    "code": "80313002",
                                    "display": "Palpitations"
                                  }
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "linkId": "symptom-dizziness",
                          "type": "group",
                          "extension": [
                            {
                              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                              "valueExpression": {
                                "language": "application/x-fhir-query",
                                "expression": "Condition",
                                "name": "dizziness"
                              }
                            },
                            {
                              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                              "valueBoolean": true
                            }
                          ],
                          "enableWhen": [
                            {
                              "question": "symptoms-choice",
                              "operator": "=",
                              "answerCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "404640003",
                                "display": "Dizziness"
                              }
                            }
                          ],
                          "item": [
                            {
                              "type": "choice",
                              "linkId": "condition-dizziness",
                              "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                              "initial": [
                                {
                                  "valueCoding": {
                                    "system": "http://snomed.info/sct",
                                    "code": "404640003",
                                    "display": "Dizziness"
                                  }
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "linkId": "symptom-fatigue",
                          "type": "group",
                          "extension": [
                            {
                              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                              "valueExpression": {
                                "language": "application/x-fhir-query",
                                "expression": "Condition",
                                "name": "fatigue"
                              }
                            },
                            {
                              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                              "valueBoolean": true
                            }
                          ],
                          "enableWhen": [
                            {
                              "question": "symptoms-choice",
                              "operator": "=",
                              "answerCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "84229001",
                                "display": "Fatigue"
                              }
                            }
                          ],
                          "item": [
                            {
                              "type": "choice",
                              "linkId": "condition-fatigue",
                              "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                              "initial": [
                                {
                                  "valueCoding": {
                                    "system": "http://snomed.info/sct",
                                    "code": "84229001",
                                    "display": "Fatigue"
                                  }
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "linkId": "symptom-chest-pain",
                          "type": "group",
                          "extension": [
                            {
                              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                              "valueExpression": {
                                "language": "application/x-fhir-query",
                                "expression": "Condition",
                                "name": "chestPain"
                              }
                            },
                            {
                              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                              "valueBoolean": true
                            }
                          ],
                          "enableWhen": [
                            {
                              "question": "symptoms-choice",
                              "operator": "=",
                              "answerCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "29857009",
                                "display": "Chest Pain"
                              }
                            }
                          ],
                          "item": [
                            {
                              "type": "choice",
                              "linkId": "condition-chest-pain",
                              "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                              "initial": [
                                {
                                  "valueCoding": {
                                    "system": "http://snomed.info/sct",
                                    "code": "29857009",
                                    "display": "Chest Pain"
                                  }
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "linkId": "symptom-difficulty-breathing",
                          "type": "group",
                          "extension": [
                            {
                              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                              "valueExpression": {
                                "language": "application/x-fhir-query",
                                "expression": "Condition",
                                "name": "difficultyBreathing"
                              }
                            },
                            {
                              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                              "valueBoolean": true
                            }
                          ],
                          "enableWhen": [
                            {
                              "question": "symptoms-choice",
                              "operator": "=",
                              "answerCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "230145002",
                                "display": "Difficulty breathing"
                              }
                            }
                          ],
                          "item": [
                            {
                              "type": "choice",
                              "linkId": "condition-difficulty-breathing",
                              "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                              "initial": [
                                {
                                  "valueCoding": {
                                    "system": "http://snomed.info/sct",
                                    "code": "230145002",
                                    "display": "Difficulty breathing"
                                  }
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "linkId": "no-symptoms",
                          "type": "group",
                          "extension": [
                            {
                              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                              "valueExpression": {
                                "language": "application/x-fhir-query",
                                "expression": "Condition",
                                "name": "noSymptoms"
                              }
                            },
                            {
                              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                              "valueBoolean": true
                            }
                          ],
                          "enableWhen": [
                            {
                              "question": "symptoms-choice",
                              "operator": "=",
                              "answerCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "161915001",
                                "display": "No general symptom"
                              }
                            }
                          ],
                          "item": [
                            {
                              "type": "choice",
                              "linkId": "no-general-symptom",
                              "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                              "initial": [
                                {
                                  "valueCoding": {
                                    "system": "http://snomed.info/sct",
                                    "code": "161915001",
                                    "display": "No general symptom"
                                  }
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "text": "Remarks (optional)",
                          "linkId": "remarks-optional",
                          "type": "string",
                          "required": false,
                          "maxLength": 200
                        }
                      ]
                    }
                  ]
                },
                "request": {
                  "method": "PUT",
                  "url": "Questionnaire/HypertensionScreening"
                }
              },
              {
                "resource": {
                  "resourceType": "Questionnaire",
                  "id": "MentalHealthScreening",
                  "title": "Mental Health Screening",
                  "description": "Mental Health Screening",
                  "status": "draft",
                  "purpose": "Mental Health Screening",
                  "identifier": {
                    "system": "http://localhost/Questionnaires",
                    "value": "MentalHealthScreening"
                  },
                  "extension": [
                    {
                      "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-entryMode",
                      "valueCode": "prior-edit"
                    },
                    {
                      "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                      "valueExpression": {
                        "language": "application/x-fhir-query",
                        "expression": "Encounter",
                        "name": "mentalHealthScreeningEncounter"
                      }
                    }
                  ],
                  "item": [
                    {
                      "linkId": "symptoms",
                      "text": "Symptoms",
                      "type": "group",
                      "readOnly": true,
                      "extension": [
                        {
                          "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                          "valueCodeableConcept": {
                            "coding": [
                              {
                                "system": "http://hl7.org/fhir/questionnaire-item-control",
                                "code": "page",
                                "display": "Page"
                              }
                            ],
                            "text": "Page"
                          }
                        }
                      ],
                      "item": [
                        {
                          "linkId": "symptoms-choice",
                          "text": "Are you presently experiencing any of the following symptom(s)?",
                          "type": "choice",
                          "repeats": true,
                          "required": true,
                          "answerOption": [
                            {
                              "valueCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "17029006",
                                "display": "Feeling despair"
                              }
                            },
                            {
                              "valueCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "247796005",
                                "display": "Loss of capacity for enjoyment"
                              }
                            },
                            {
                              "valueCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "59050008",
                                "display": "Initial insomnia"
                              }
                            },
                            {
                              "valueCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "225457007",
                                "display": "Feeling suicidal"
                              }
                            },
                            {
                              "extension": [
                                {
                                  "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-optionExclusive",
                                  "valueBoolean": true
                                }
                              ],
                              "valueCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "161915001",
                                "display": "No general symptom"
                              }
                            }
                          ]
                        },
                        {
                          "linkId": "symptom-feeling-despair",
                          "type": "group",
                          "extension": [
                            {
                              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                              "valueExpression": {
                                "language": "application/x-fhir-query",
                                "expression": "Condition",
                                "name": "feelingDespair"
                              }
                            },
                            {
                              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                              "valueBoolean": true
                            }
                          ],
                          "enableWhen": [
                            {
                              "question": "symptoms-choice",
                              "operator": "=",
                              "answerCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "17029006",
                                "display": "Feeling despair"
                              }
                            }
                          ],
                          "item": [
                            {
                              "linkId": "condition-feeling-despair",
                              "type": "choice",
                              "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                              "initial": [
                                {
                                  "valueCoding": {
                                    "system": "http://snomed.info/sct",
                                    "code": "17029006",
                                    "display": "Feeling despair"
                                  }
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "linkId": "symptom-loss-of-capacity-of-enjoyment",
                          "type": "group",
                          "extension": [
                            {
                              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                              "valueExpression": {
                                "language": "application/x-fhir-query",
                                "expression": "Condition",
                                "name": "lossOfCapacityForEnjoyment"
                              }
                            },
                            {
                              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                              "valueBoolean": true
                            }
                          ],
                          "enableWhen": [
                            {
                              "question": "symptoms-choice",
                              "operator": "=",
                              "answerCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "247796005",
                                "display": "Loss of capacity for enjoyment"
                              }
                            }
                          ],
                          "item": [
                            {
                              "linkId": "condition-loss-of-capacity-of-enjoyment",
                              "type": "choice",
                              "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                              "initial": [
                                {
                                  "valueCoding": {
                                    "system": "http://snomed.info/sct",
                                    "code": "247796005",
                                    "display": "Loss of capacity for enjoyment"
                                  }
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "linkId": "symptom-initial-insomnia",
                          "type": "group",
                          "extension": [
                            {
                              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                              "valueExpression": {
                                "language": "application/x-fhir-query",
                                "expression": "Condition",
                                "name": "initialInsomnia"
                              }
                            },
                            {
                              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                              "valueBoolean": true
                            }
                          ],
                          "enableWhen": [
                            {
                              "question": "symptoms-choice",
                              "operator": "=",
                              "answerCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "59050008",
                                "display": "Initial insomnia"
                              }
                            }
                          ],
                          "item": [
                            {
                              "linkId": "condition-initial-insomnia",
                              "type": "choice",
                              "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                              "initial": [
                                {
                                  "valueCoding": {
                                    "system": "http://snomed.info/sct",
                                    "code": "59050008",
                                    "display": "Initial insomnia"
                                  }
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "linkId": "symptom-feeling-suicidal",
                          "type": "group",
                          "extension": [
                            {
                              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                              "valueExpression": {
                                "language": "application/x-fhir-query",
                                "expression": "Condition",
                                "name": "feelingSuicidal"
                              }
                            },
                            {
                              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                              "valueBoolean": true
                            }
                          ],
                          "enableWhen": [
                            {
                              "question": "symptoms-choice",
                              "operator": "=",
                              "answerCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "225457007",
                                "display": "Feeling suicidal"
                              }
                            }
                          ],
                          "item": [
                            {
                              "linkId": "condition-feeling-suicidal",
                              "type": "choice",
                              "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                              "initial": [
                                {
                                  "valueCoding": {
                                    "system": "http://snomed.info/sct",
                                    "code": "225457007",
                                    "display": "Feeling suicidal"
                                  }
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "linkId": "no-symptoms",
                          "type": "group",
                          "extension": [
                            {
                              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                              "valueExpression": {
                                "language": "application/x-fhir-query",
                                "expression": "Condition",
                                "name": "noSymptoms"
                              }
                            },
                            {
                              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                              "valueBoolean": true
                            }
                          ],
                          "enableWhen": [
                            {
                              "question": "symptoms-choice",
                              "operator": "=",
                              "answerCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "161915001",
                                "display": "No general symptom"
                              }
                            }
                          ],
                          "item": [
                            {
                              "type": "choice",
                              "linkId": "no-general-symptom",
                              "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                              "initial": [
                                {
                                  "valueCoding": {
                                    "system": "http://snomed.info/sct",
                                    "code": "161915001",
                                    "display": "No general symptom"
                                  }
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "linkId": "remarks-optional",
                          "text": "Remarks (optional)",
                          "type": "string",
                          "required": false,
                          "maxLength": 200
                        }
                      ]
                    }
                  ]
                },
                "request": {
                  "method": "PUT",
                  "url": "Questionnaire/MentalHealthScreening"
                }
              },
              {
                "resource": {
                  "resourceType": "Questionnaire",
                  "id": "DiabetesMellitusScreening",
                  "title": "Diabetes Mellitus Screening",
                  "status": "draft",
                  "description": "Diabetes Mellitus Screening",
                  "purpose": "Diabetes Mellitus Screening",
                  "identifier": {
                    "system": "http://localhost/Questionnaires",
                    "value": "DiabetesMellitusScreening"
                  },
                  "extension": [
                    {
                      "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-entryMode",
                      "valueCode": "prior-edit"
                    },
                    {
                      "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                      "valueExpression": {
                        "language": "application/x-fhir-query",
                        "expression": "Encounter",
                        "name": "diabetesMellitusScreeningEncounter"
                      }
                    }
                  ],
                  "item": [
                    {
                      "text": "Diabetes Screening",
                      "linkId": "diabetes-screening",
                      "type": "group",
                      "readOnly": true,
                      "extension": [
                        {
                          "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                          "valueCodeableConcept": {
                            "coding": [
                              {
                                "system": "http://hl7.org/fhir/questionnaire-item-control",
                                "code": "page",
                                "display": "Page"
                              }
                            ],
                            "text": "Page"
                          }
                        },
                        {
                          "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                          "valueExpression": {
                            "language": "application/x-fhir-query",
                            "expression": "Observation",
                            "name": "rbs-observation"
                          }
                        }
                      ],
                      "item": [
                        {
                          "linkId": "rbs",
                          "type": "group",
                          "item": [
                            {
                              "linkId": "hidden-waist-circumference",
                              "text": "Waist Circumference",
                              "type": "integer",
                              "maxLength": 3,
                              "readOnly": true,
                              "initial": [
                                {
                                  "valueInteger": 78
                                }
                              ],
                              "extension": [
                                {
                                  "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                                  "valueBoolean": true
                                }
                              ]
                            },
                            {
                              "linkId": "hidden-gender",
                              "text": "Gender:",
                              "type": "string",
                              "readOnly": true,
                              "extension": [
                                {
                                  "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                                  "valueBoolean": true
                                }
                              ],
                              "initial": [
                                {
                                  "valueString": "Female"
                                }
                              ]
                            },
                            {
                              "text": "Random Blood Sugar [mg/dL]",
                              "linkId": "random-blood-sugar",
                              "definition": "http://hl7.org/fhir/StructureDefinition/Observation#Observation.valueQuantity",
                              "type": "integer",
                              "required": true,
                              "code": [
                                {
                                  "system": "http://snomed.info/sct",
                                  "code": "271061004",
                                  "display": "Random blood glucose measurement"
                                }
                              ],
                              "extension": [
                                {
                                  "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-unit",
                                  "valueCoding": {
                                    "system": "http://unitsofmeasure.org",
                                    "code": "mg/dL",
                                    "display": "mg/dL"
                                  }
                                },
                                {
                                  "url": "http://hl7.org/fhir/StructureDefinition/maxValue",
                                  "valueInteger": 600
                                },
                                {
                                  "url": "http://hl7.org/fhir/StructureDefinition/minValue",
                                  "valueInteger": 30
                                },
                                {
                                  "url": "http://hl7.org/fhir/StructureDefinition/minLength",
                                  "valueInteger": 2
                                }
                              ]
                            },
                            {
                              "linkId": "rbs-obs-code",
                              "type": "choice",
                              "definition": "http://hl7.org/fhir/StructureDefinition/Observation#Observation.code",
                              "extension": [
                                {
                                  "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                                  "valueBoolean": true
                                }
                              ],
                              "initial": [
                                {
                                  "valueCoding": {
                                    "system": "http://snomed.info/sct",
                                    "code": "271061004",
                                    "display": "Random blood glucose measurement"
                                  }
                                }
                              ]
                            },
                            {
                              "text": "Normal",
                              "linkId": "normal-sugar",
                              "type": "display",
                              "enableWhen": [
                                {
                                  "question": "random-blood-sugar",
                                  "operator": ">",
                                  "answerInteger": 75
                                },
                                {
                                  "question": "random-blood-sugar",
                                  "operator": "<=",
                                  "answerInteger": 120
                                }
                              ],
                              "enableBehavior": "all"
                            },
                            {
                              "text": "Suspected DM",
                              "linkId": "suspected-dm",
                              "type": "display",
                              "enableWhen": [
                                {
                                  "question": "random-blood-sugar",
                                  "operator": ">",
                                  "answerInteger": 120
                                }
                              ]
                            },
                            {
                              "text": "Tested on",
                              "linkId": "1.0.3",
                              "type": "date",
                              "repeats": false,
                              "required": true,
                              "readOnly": false
                            },
                            {
                              "text": "RBS Test Not Done",
                              "linkId": "1.0.4",
                              "type": "display",
                              "enableWhen": [
                                {
                                  "question": "1.0.3",
                                  "operator": "exists",
                                  "answerBoolean": false
                                }
                              ]
                            },
                            {
                              "text": "Error: Test date cannot be later than today.",
                              "linkId": "1.0.5",
                              "type": "display",
                              "extension": [
                                {
                                  "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-enableWhenExpression",
                                  "valueExpression": {
                                    "language": "text/fhirpath",
                                    "expression": "%resource.repeat(item).where(linkId='1.0.3' and answer.empty().not()).select(answer.value) > today()"
                                  }
                                }
                              ]
                            },
                            {
                              "linkId": "risk-0-female",
                              "text": "DM Risk Score",
                              "type": "integer",
                              "required": false,
                              "readOnly": true,
                              "initial": [
                                {
                                  "valueInteger": 0
                                }
                              ],
                              "enableWhen": [
                                {
                                  "question": "hidden-gender",
                                  "operator": "=",
                                  "answerString": "Female"
                                },
                                {
                                  "question": "hidden-waist-circumference",
                                  "operator": "<=",
                                  "answerInteger": 80
                                }
                              ],
                              "enableBehavior": "all"
                            },
                            {
                              "linkId": "risk-0-male",
                              "text": "DM Risk Score",
                              "type": "integer",
                              "required": false,
                              "readOnly": true,
                              "initial": [
                                {
                                  "valueInteger": 0
                                }
                              ],
                              "enableWhen": [
                                {
                                  "question": "hidden-gender",
                                  "operator": "=",
                                  "answerString": "Male"
                                },
                                {
                                  "question": "hidden-waist-circumference",
                                  "operator": "<=",
                                  "answerInteger": 90
                                }
                              ],
                              "enableBehavior": "all"
                            },
                            {
                              "linkId": "risk-1-female",
                              "text": "DM Risk Score",
                              "type": "integer",
                              "required": false,
                              "readOnly": true,
                              "initial": [
                                {
                                  "valueInteger": 1
                                }
                              ],
                              "enableWhen": [
                                {
                                  "question": "hidden-gender",
                                  "operator": "=",
                                  "answerString": "Female"
                                },
                                {
                                  "question": "hidden-waist-circumference",
                                  "operator": ">",
                                  "answerInteger": 80
                                },
                                {
                                  "question": "hidden-waist-circumference",
                                  "operator": "<=",
                                  "answerInteger": 90
                                }
                              ],
                              "enableBehavior": "all"
                            },
                            {
                              "linkId": "risk-1-male",
                              "text": "DM Risk Score",
                              "type": "integer",
                              "required": false,
                              "readOnly": true,
                              "initial": [
                                {
                                  "valueInteger": 1
                                }
                              ],
                              "enableWhen": [
                                {
                                  "question": "hidden-gender",
                                  "operator": "=",
                                  "answerString": "Male"
                                },
                                {
                                  "question": "hidden-waist-circumference",
                                  "operator": ">",
                                  "answerInteger": 90
                                },
                                {
                                  "question": "hidden-waist-circumference",
                                  "operator": "<=",
                                  "answerInteger": 100
                                }
                              ],
                              "enableBehavior": "all"
                            },
                            {
                              "linkId": "risk-2-female",
                              "text": "DM Risk Score",
                              "type": "integer",
                              "required": false,
                              "readOnly": true,
                              "initial": [
                                {
                                  "valueInteger": 2
                                }
                              ],
                              "enableWhen": [
                                {
                                  "question": "hidden-gender",
                                  "operator": "=",
                                  "answerString": "Female"
                                },
                                {
                                  "question": "hidden-waist-circumference",
                                  "operator": ">",
                                  "answerInteger": 90
                                }
                              ],
                              "enableBehavior": "all"
                            },
                            {
                              "linkId": "risk-2-male",
                              "text": "DM Risk Score",
                              "type": "integer",
                              "required": false,
                              "readOnly": true,
                              "initial": [
                                {
                                  "valueInteger": 2
                                }
                              ],
                              "enableWhen": [
                                {
                                  "question": "hidden-gender",
                                  "operator": "=",
                                  "answerString": "Male"
                                },
                                {
                                  "question": "hidden-waist-circumference",
                                  "operator": ">",
                                  "answerInteger": 100
                                }
                              ],
                              "enableBehavior": "all"
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "text": "Symptoms and Outcome",
                      "linkId": "symptoms-outcome",
                      "type": "group",
                      "required": false,
                      "readOnly": true,
                      "extension": [
                        {
                          "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                          "valueCodeableConcept": {
                            "coding": [
                              {
                                "system": "http://hl7.org/fhir/questionnaire-item-control",
                                "code": "page",
                                "display": "Page"
                              }
                            ],
                            "text": "Page"
                          }
                        }
                      ],
                      "item": [
                        {
                          "linkId": "risk-0-female-2",
                          "text": "DM Risk Score",
                          "type": "integer",
                          "required": false,
                          "readOnly": true,
                          "initial": [
                            {
                              "valueInteger": 0
                            }
                          ],
                          "enableWhen": [
                            {
                              "question": "hidden-gender",
                              "operator": "=",
                              "answerString": "Female"
                            },
                            {
                              "question": "hidden-waist-circumference",
                              "operator": "<=",
                              "answerInteger": 80
                            }
                          ],
                          "enableBehavior": "all"
                        },
                        {
                          "linkId": "risk-0-male-2",
                          "text": "DM Risk Score",
                          "type": "integer",
                          "required": false,
                          "readOnly": true,
                          "initial": [
                            {
                              "valueInteger": 0
                            }
                          ],
                          "enableWhen": [
                            {
                              "question": "hidden-gender",
                              "operator": "=",
                              "answerString": "Male"
                            },
                            {
                              "question": "hidden-waist-circumference",
                              "operator": "<=",
                              "answerInteger": 90
                            }
                          ],
                          "enableBehavior": "all"
                        },
                        {
                          "linkId": "risk-1-female-2",
                          "text": "DM Risk Score",
                          "type": "integer",
                          "required": false,
                          "readOnly": true,
                          "initial": [
                            {
                              "valueInteger": 1
                            }
                          ],
                          "enableWhen": [
                            {
                              "question": "hidden-gender",
                              "operator": "=",
                              "answerString": "Female"
                            },
                            {
                              "question": "hidden-waist-circumference",
                              "operator": ">",
                              "answerInteger": 80
                            },
                            {
                              "question": "hidden-waist-circumference",
                              "operator": "<=",
                              "answerInteger": 90
                            }
                          ],
                          "enableBehavior": "all"
                        },
                        {
                          "linkId": "risk-1-male-2",
                          "text": "DM Risk Score",
                          "type": "integer",
                          "required": false,
                          "readOnly": true,
                          "initial": [
                            {
                              "valueInteger": 1
                            }
                          ],
                          "enableWhen": [
                            {
                              "question": "hidden-gender",
                              "operator": "=",
                              "answerString": "Male"
                            },
                            {
                              "question": "hidden-waist-circumference",
                              "operator": ">",
                              "answerInteger": 90
                            },
                            {
                              "question": "hidden-waist-circumference",
                              "operator": "<=",
                              "answerInteger": 100
                            }
                          ],
                          "enableBehavior": "all"
                        },
                        {
                          "linkId": "risk-2-female-2",
                          "text": "DM Risk Score",
                          "type": "integer",
                          "required": false,
                          "readOnly": true,
                          "initial": [
                            {
                              "valueInteger": 2
                            }
                          ],
                          "enableWhen": [
                            {
                              "question": "hidden-gender",
                              "operator": "=",
                              "answerString": "Female"
                            },
                            {
                              "question": "hidden-waist-circumference",
                              "operator": ">",
                              "answerInteger": 90
                            }
                          ],
                          "enableBehavior": "all"
                        },
                        {
                          "linkId": "risk-2-male-2",
                          "text": "DM Risk Score",
                          "type": "integer",
                          "required": false,
                          "readOnly": true,
                          "initial": [
                            {
                              "valueInteger": 2
                            }
                          ],
                          "enableWhen": [
                            {
                              "question": "hidden-gender",
                              "operator": "=",
                              "answerString": "Male"
                            },
                            {
                              "question": "hidden-waist-circumference",
                              "operator": ">",
                              "answerInteger": 100
                            }
                          ],
                          "enableBehavior": "all"
                        },
                        {
                          "text": "Are you presently experiencing any of the following symptom(s)?",
                          "type": "choice",
                          "linkId": "symptoms-choice",
                          "repeats": true,
                          "required": true,
                          "answerOption": [
                            {
                              "valueCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "162116003",
                                "display": "Increased frequency of urination"
                              }
                            },
                            {
                              "valueCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "43959009",
                                "display": "Diabetic cataract"
                              }
                            },
                            {
                              "valueCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "249477003",
                                "display": "Increased Thirst"
                              }
                            },
                            {
                              "extension": [
                                {
                                  "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-optionExclusive",
                                  "valueBoolean": true
                                }
                              ],
                              "valueCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "161915001",
                                "display": "No general symptom"
                              }
                            }
                          ]
                        },
                        {
                          "linkId": "symptom-increased-urination",
                          "type": "group",
                          "extension": [
                            {
                              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                              "valueExpression": {
                                "language": "application/x-fhir-query",
                                "expression": "Condition",
                                "name": "increasedFrequencyOfUrination"
                              }
                            },
                            {
                              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                              "valueBoolean": true
                            }
                          ],
                          "enableWhen": [
                            {
                              "question": "symptoms-choice",
                              "operator": "=",
                              "answerCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "162116003",
                                "display": "Increased frequency of urination"
                              }
                            }
                          ],
                          "item": [
                            {
                              "type": "choice",
                              "linkId": "condition-increased-urination",
                              "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                              "initial": [
                                {
                                  "valueCoding": {
                                    "system": "http://snomed.info/sct",
                                    "code": "162116003",
                                    "display": "Increased frequency of urination"
                                  }
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "linkId": "symptom-diabetic-cataract",
                          "type": "group",
                          "extension": [
                            {
                              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                              "valueExpression": {
                                "language": "application/x-fhir-query",
                                "expression": "Condition",
                                "name": "diabeticCataract"
                              }
                            },
                            {
                              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                              "valueBoolean": true
                            }
                          ],
                          "enableWhen": [
                            {
                              "question": "symptoms-choice",
                              "operator": "=",
                              "answerCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "43959009",
                                "display": "Diabetic cataract"
                              }
                            }
                          ],
                          "item": [
                            {
                              "type": "choice",
                              "linkId": "condition-diabetic-cataract",
                              "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                              "initial": [
                                {
                                  "valueCoding": {
                                    "system": "http://snomed.info/sct",
                                    "code": "43959009",
                                    "display": "Diabetic cataract"
                                  }
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "linkId": "symptom-increased-thirst",
                          "type": "group",
                          "extension": [
                            {
                              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                              "valueExpression": {
                                "language": "application/x-fhir-query",
                                "expression": "Condition",
                                "name": "increasedThirst"
                              }
                            },
                            {
                              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                              "valueBoolean": true
                            }
                          ],
                          "enableWhen": [
                            {
                              "question": "symptoms-choice",
                              "operator": "=",
                              "answerCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "249477003",
                                "display": "Increased Thirst"
                              }
                            }
                          ],
                          "item": [
                            {
                              "type": "choice",
                              "linkId": "condition-increased-thirst",
                              "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                              "initial": [
                                {
                                  "valueCoding": {
                                    "system": "http://snomed.info/sct",
                                    "code": "249477003",
                                    "display": "Increased Thirst"
                                  }
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "linkId": "no-symptoms",
                          "type": "group",
                          "extension": [
                            {
                              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                              "valueExpression": {
                                "language": "application/x-fhir-query",
                                "expression": "Condition",
                                "name": "noSymptoms"
                              }
                            },
                            {
                              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                              "valueBoolean": true
                            }
                          ],
                          "enableWhen": [
                            {
                              "question": "symptoms-choice",
                              "operator": "=",
                              "answerCoding": {
                                "system": "http://snomed.info/sct",
                                "code": "161915001",
                                "display": "No general symptom"
                              }
                            }
                          ],
                          "item": [
                            {
                              "type": "choice",
                              "linkId": "no-general-symptom",
                              "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                              "initial": [
                                {
                                  "valueCoding": {
                                    "system": "http://snomed.info/sct",
                                    "code": "161915001",
                                    "display": "No general symptom"
                                  }
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "text": "Remarks (optional)",
                          "linkId": "remarks-optional",
                          "type": "string",
                          "required": false,
                          "maxLength": 200
                        }
                      ]
                    }
                  ]
                },
                "request": {
                  "method": "PUT",
                  "url": "Questionnaire/DiabetesMellitusScreening"
                }
              }
            ]
          }
        ],
        "action": [
          {
            "title": "Administer diabetes mellitus screening questionnaire",
            "definitionCanonical": "http://localhost/ActivityDefinition/Activity-DiabetesMellitusScreening",
            "condition": [
              {
                "kind": "applicability",
                "expression": {
                  "description": "Adult Patient",
                  "language": "text/cql.identifier",
                  "expression": "Eligible for Diabetes Mellitus Screening"
                }
              }
            ]
          },
          {
            "title": "Administer chronic kidney disease screening questionnaire",
            "definitionCanonical": "http://localhost/ActivityDefinition/Activity-CKDScreening",
            "condition": [
              {
                "kind": "applicability",
                "expression": {
                  "description": "Adult Patient",
                  "language": "text/cql.identifier",
                  "expression": "Eligible for CKD Screening"
                }
              }
            ]
          },
          {
            "title": "Administer hypertension screening questionnaire",
            "definitionCanonical": "http://localhost/ActivityDefinition/Activity-HypertensionScreening",
            "condition": [
              {
                "kind": "applicability",
                "expression": {
                  "description": "Adult Patient",
                  "language": "text/cql.identifier",
                  "expression": "Eligible for Hypertension Screening"
                }
              }
            ]
          },
          {
            "title": "Administer mental health screening questionnaire",
            "definitionCanonical": "http://localhost/ActivityDefinition/Activity-MentalHealthScreening",
            "condition": [
              {
                "kind": "applicability",
                "expression": {
                  "description": "Adult Patient",
                  "language": "text/cql.identifier",
                  "expression": "Eligible for Mental Health Screening"
                }
              }
            ]
          }
        ]
      },
      "request": {
        "method": "PUT",
        "url": "PlanDefinition/NCD-Screening-Plan-Definition"
      }
    },
    {
      "resource": {
        "resourceType": "ActivityDefinition",
        "id": "Activity-DiabetesMellitusScreening",
        "url": "http://localhost/ActivityDefinition/Activity-DiabetesMellitusScreening",
        "kind": "Task",
        "relatedArtifact": {
          "code": "depends-on",
          "resource": "Questionnaire/DiabetesMellitusScreening"
        },
        "code": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "171183004",
              "display": "Diabetes mellitus screening"
            }
          ]
        },
        "identifier": [
          {
            "system": "http://ncd.org",
            "value": "diabetes-mellitus-screening-task"
          }
        ],
        "library": [
          "http://localhost/Library/ncdlibrary|1.0.0"
        ],
        "dynamicValue": [
          {
            "path": "focus",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Get Diabetes Mellitus Questionnaire Reference"
            }
          },
          {
            "path": "description",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Get Diabetes Mellitus Screening Description"
            }
          },
          {
            "path": "for",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Get Patient Reference"
            }
          },
          {
            "path": "requester",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Get PractitionerRole Reference"
            }
          },
          {
            "path": "owner",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Get PractitionerRole Reference"
            }
          },
          {
            "path": "identifier",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Get Diabetes Mellitus Screening Task Identifier"
            }
          }
        ]
      },
      "request": {
        "method": "PUT",
        "url": "ActivityDefinition/Activity-DiabetesMellitusScreening"
      }
    },
    {
      "resource": {
        "resourceType": "ActivityDefinition",
        "id": "Activity-CKDScreening",
        "url": "http://localhost/ActivityDefinition/Activity-CKDScreening",
        "kind": "Task",
        "relatedArtifact": {
          "code": "depends-on",
          "resource": "Questionnaire/CKDScreening"
        },
        "code": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "737429003",
              "display": "Chronic kidney disease clinical management plan"
            }
          ]
        },
        "identifier": [
          {
            "system": "http://ncd.org",
            "value": "ckd-screening-task"
          }
        ],
        "library": [
          "http://localhost/Library/ncdlibrary|1.0.0"
        ],
        "dynamicValue": [
          {
            "path": "focus",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Get CKD Questionnaire Reference"
            }
          },
          {
            "path": "description",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Get CKD Screening Description"
            }
          },
          {
            "path": "for",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Get Patient Reference"
            }
          },
          {
            "path": "requester",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Get PractitionerRole Reference"
            }
          },
          {
            "path": "owner",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Get PractitionerRole Reference"
            }
          },
          {
            "path": "identifier",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Get CKD Screening Task Identifier"
            }
          }
        ]
      },
      "request": {
        "method": "PUT",
        "url": "ActivityDefinition/Activity-CKDScreening"
      }
    },
    {
      "resource": {
        "resourceType": "ActivityDefinition",
        "id": "Activity-HypertensionScreening",
        "url": "http://localhost/ActivityDefinition/Activity-HypertensionScreening",
        "kind": "Task",
        "relatedArtifact": {
          "code": "depends-on",
          "resource": "Questionnaire/HypertensionScreening"
        },
        "code": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "171222001",
              "display": "Hypertension screening"
            }
          ]
        },
        "identifier": [
          {
            "system": "http://ncd.org",
            "value": "hypertension-screening-task"
          }
        ],
        "library": [
          "http://localhost/Library/ncdlibrary|1.0.0"
        ],
        "dynamicValue": [
          {
            "path": "focus",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Get Hypertension Questionnaire Reference"
            }
          },
          {
            "path": "description",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Get Hypertension Screening Description"
            }
          },
          {
            "path": "for",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Get Patient Reference"
            }
          },
          {
            "path": "requester",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Get PractitionerRole Reference"
            }
          },
          {
            "path": "owner",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Get PractitionerRole Reference"
            }
          },
          {
            "path": "identifier",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Get Hypertension Screening Task Identifier"
            }
          }
        ]
      },
      "request": {
        "method": "PUT",
        "url": "ActivityDefinition/Activity-HypertensionScreening"
      }
    },
    {
      "resource": {
        "resourceType": "ActivityDefinition",
        "id": "Activity-MentalHealthScreening",
        "url": "http://localhost/ActivityDefinition/Activity-MentalHealthScreening",
        "kind": "Task",
        "relatedArtifact": {
          "code": "depends-on",
          "resource": "Questionnaire/MentalHealthScreening"
        },
        "code": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "385892002",
              "display": "Mental health screening"
            }
          ]
        },
        "identifier": [
          {
            "system": "http://ncd.org",
            "value": "mental-health-screening-task"
          }
        ],
        "library": [
          "http://localhost/Library/ncdlibrary|1.0.0"
        ],
        "dynamicValue": [
          {
            "path": "focus",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Get Mental Health Questionnaire Reference"
            }
          },
          {
            "path": "description",
            "expression": {
              "language": "text/cql-identifier",
              "expression": "Get Mental Health Screening Description"
            }
          },
          {
            "path": "for",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Get Patient Reference"
            }
          },
          {
            "path": "requester",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Get PractitionerRole Reference"
            }
          },
          {
            "path": "owner",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Get PractitionerRole Reference"
            }
          },
          {
            "path": "identifier",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Get Mental Health Screening Task Identifier"
            }
          }
        ]
      },
      "request": {
        "method": "PUT",
        "url": "ActivityDefinition/Activity-MentalHealthScreening"
      }
    },
    {
      "resource": {
        "resourceType": "Library",
        "id": "ncdlibrary",
        "extension": [],
        "url": "http://localhost/Library/ncdlibrary|1.0.0",
        "version": "1.0.0",
        "name": "ncdlibrary",
        "relatedArtifact": [
          {
            "type": "depends-on",
            "display": "FHIR model information",
            "resource": "http://fhir.org/guides/cqf/common/Library/FHIR-ModelInfo|4.0.1"
          },
          {
            "type": "depends-on",
            "display": "Library FHIRHelpers",
            "resource": "http://aphl.org/fhir/ecr/Library/FHIRHelpers|4.0.1"
          }
        ],
        "content": [
          {
            "contentType": "text/cql",
            "data": "bGlicmFyeSBuY2RsaWJyYXJ5IHZlcnNpb24gJzEuMC4wJwp1c2luZyBGSElSIHZlcnNpb24gJzQuMC4xJwppbmNsdWRlIEZISVJIZWxwZXJzIHZlcnNpb24gJzQuMC4xJwoKLy8gU05PTUVEIENvZGVzIGZvciBTY3JlZW5pbmdzCmNvZGVzeXN0ZW0gIlNOT01FRCI6ICdodHRwOi8vc25vbWVkLmluZm8vc2N0Jwpjb2RlICJCcmVhc3QgQ2FuY2VyIFNjcmVlbmluZyBTTk9NRUQgQ29kZSI6CiAgJzI2ODU0NzAwOCcgZnJvbSAiU05PTUVEIiBkaXNwbGF5ICdTY3JlZW5pbmcgZm9yIG1hbGlnbmFudCBuZW9wbGFzbSBvZiBicmVhc3QnCgpjb2RlICJEaWFiZXRlcyBNZWxsaXR1cyBTY3JlZW5pbmcgU05PTUVEIENvZGUiOgogICcxNzExODMwMDQnIGZyb20gIlNOT01FRCIgZGlzcGxheSAnRGlhYmV0ZXMgbWVsbGl0dXMgc2NyZWVuaW5nJwoKY29kZSAiQ0tEIFNjcmVlbmluZyBTTk9NRUQgQ29kZSI6CiAgJzczNzQyOTAwMycgZnJvbSAiU05PTUVEIiBkaXNwbGF5ICdDaHJvbmljIGtpZG5leSBkaXNlYXNlIGNsaW5pY2FsIG1hbmFnZW1lbnQgcGxhbicKCmNvZGUgIkh5cGVydGVuc2lvbiBTY3JlZW5pbmcgU05PTUVEIENvZGUiOgogICcxNzEyMjIwMDEnIGZyb20gIlNOT01FRCIgZGlzcGxheSAnSHlwZXJ0ZW5zaW9uIHNjcmVlbmluZycKCmNvZGUgIk1lbnRhbCBIZWFsdGggU2NyZWVuaW5nIFNOT01FRCBDb2RlIjoKICAnMzg1ODkyMDAyJyBmcm9tICJTTk9NRUQiIGRpc3BsYXkgJ01lbnRhbCBoZWFsdGggc2NyZWVuaW5nJwoKY29kZSAiQ2VydmljYWwgQ2FuY2VyIFNjcmVlbmluZyBTTk9NRUQgQ29kZSI6CiAgJzEyMzAwNDYwMDcnIGZyb20gIlNOT01FRCIgZGlzcGxheSAnQ2VydmljYWwgY2FuY2VyIHNjcmVlbmluZyBzZXJ2aWNlJwoKCmRlZmluZSAiR2V0IFByYWN0aXRpb25lclJvbGUiOiBbUHJhY3RpdGlvbmVyUm9sZV0gUCByZXR1cm4gUApkZWZpbmUgIkdldCBQcmFjdGl0aW9uZXJSb2xlIFJlZmVyZW5jZSI6IFJlZmVyZW5jZSB7CiAgcmVmZXJlbmNlOiBzdHJpbmcgeyB2YWx1ZTogJ1ByYWN0aXRpb25lclJvbGUvJyArICJHZXQgUHJhY3RpdGlvbmVyUm9sZSJbMF0uaWQgfSwKICBkaXNwbGF5OiBzdHJpbmcgeyB2YWx1ZTogIkdldCBQcmFjdGl0aW9uZXJSb2xlIlswXS5zcGVjaWFsdHlbMF0uY29kaW5nWzBdLmRpc3BsYXkgfQp9CgpkZWZpbmUgIkdldCBUYXNrIERlYWRsaW5lIjogVG9EYXRlKE5vdygpICsgMSB5ZWFyKQoKCmNvbnRleHQgUGF0aWVudAoKCi8vIFBhdGllbnQgT3BlcmF0aW9ucwpkZWZpbmUgIlBhdGllbnQgaXMgRmVtYWxlIjogUGF0aWVudC5nZW5kZXIgPSAnZmVtYWxlJwpkZWZpbmUgIlBhdGllbnQgaXMgTWFsZSI6IFBhdGllbnQuZ2VuZGVyID0gJ21hbGUnCmRlZmluZSAiUGF0aWVudCBpcyBBZHVsdCI6IFBhdGllbnQuYmlydGhEYXRlIDw9IFRvZGF5KCkgLSAxOCB5ZWFycwpkZWZpbmUgIlBhdGllbnQgaXMgRmVtYWxlIEFkdWx0IjogIlBhdGllbnQgaXMgRmVtYWxlIiBhbmQgIlBhdGllbnQgaXMgQWR1bHQiCmRlZmluZSAiUGF0aWVudCBpcyBNYWxlIEFkdWx0IjogIlBhdGllbnQgaXMgTWFsZSIgYW5kICJQYXRpZW50IGlzIEFkdWx0IgpkZWZpbmUgIkdldCBQYXRpZW50IFJlZmVyZW5jZSI6IFJlZmVyZW5jZSB7CiAgcmVmZXJlbmNlOiBzdHJpbmcgeyB2YWx1ZTogJ1BhdGllbnQvJyArIFBhdGllbnQuaWR9Cn0KCgovLyBCcmVhc3QgQ2FuY2VyIFNjcmVlbmluZwpkZWZpbmUgIkdldCBCcmVhc3QgQ2FuY2VyIFNjcmVlbmluZyBEZXNjcmlwdGlvbiI6ICdCcmVhc3QgQ2FuY2VyIFNjcmVlbmluZycKZGVmaW5lICJHZXQgQnJlYXN0IENhbmNlciBTY3JlZW5pbmcgUXVlc3Rpb25uYWlyZSBSZWZlcmVuY2UiOiBSZWZlcmVuY2UgewogIHJlZmVyZW5jZTogc3RyaW5nIHsgdmFsdWU6ICdRdWVzdGlvbm5haXJlL0JyZWFzdENhbmNlclNjcmVlbmluZyd9Cn0KZGVmaW5lICJCcmVhc3QgQ2FuY2VyIFNjcmVlbmluZyBDb2RlIjogQ29uY2VwdCB7CkNvZGUgJzI2ODU0NzAwOCcgZnJvbSAiU05PTUVEIiBkaXNwbGF5ICdTY3JlZW5pbmcgZm9yIG1hbGlnbmFudCBuZW9wbGFzbSBvZiBicmVhc3QgKHByb2NlZHVyZSknCn0KZGVmaW5lICJHZXQgQnJlYXN0IENhbmNlciBTY3JlZW5pbmcgVGFzayBJZGVudGlmaWVyIjogSWRlbnRpZmllciB7CiAgc3lzdGVtOiB1cmkge3ZhbHVlOiAnaHR0cDovL25jZC5vcmcnfSwKICB2YWx1ZTogc3RyaW5nIHt2YWx1ZTogJ2JyZWFzdC1jYW5jZXItc2NyZWVuaW5nLXRhc2snfQp9CmRlZmluZSAiQnJlYXN0IENhbmNlciBTY3JlZW5pbmcgVGFza3MiOiBbVGFzazogIkJyZWFzdCBDYW5jZXIgU2NyZWVuaW5nIFNOT01FRCBDb2RlIl0KZGVmaW5lICJCcmVhc3QgQ2FuY2VyIFNjcmVlbmluZyBUYXNrcyBDb3VudCI6IENvdW50KCJCcmVhc3QgQ2FuY2VyIFNjcmVlbmluZyBUYXNrcyIpCmRlZmluZSAiTm8gQnJlYXN0IENhbmNlciBTY3JlZW5pbmcgVGFzayBQcmVzZW50IjogIkJyZWFzdCBDYW5jZXIgU2NyZWVuaW5nIFRhc2tzIENvdW50IiA9IDAKLy9kZWZpbmUgIkVsaWdpYmxlIGZvciBCcmVhc3QgQ2FuY2VyIFNjcmVlbmluZyI6ICJQYXRpZW50IGlzIEZlbWFsZSBBZHVsdCIgYW5kICJObyBCcmVhc3QgQ2FuY2VyIFNjcmVlbmluZyBUYXNrIFByZXNlbnQiCmRlZmluZSAiQ29tcGxldGVkIEJyZWFzdCBDYW5jZXIgU2NyZWVuaW5nIFRhc2tzIjogW1Rhc2s6ICJCcmVhc3QgQ2FuY2VyIFNjcmVlbmluZyBTTk9NRUQgQ29kZSJdIFQgd2hlcmUgVC5zdGF0dXMgPSAnY29tcGxldGVkJwpkZWZpbmUgIkNvbXBsZXRlZCBCcmVhc3QgQ2FuY2VyIFNjcmVlbmluZyBUYXNrcyBDb3VudCI6IENvdW50KCJDb21wbGV0ZWQgQnJlYXN0IENhbmNlciBTY3JlZW5pbmcgVGFza3MiKQpkZWZpbmUgIlN0cmluZyBDb21wbGV0ZWQgQnJlYXN0IENhbmNlciBTY3JlZW5pbmcgVGFza3MiOiAoVG9TdHJpbmcoIkNvbXBsZXRlZCBCcmVhc3QgQ2FuY2VyIFNjcmVlbmluZyBUYXNrcyBDb3VudCIpKQpkZWZpbmUgIkVsaWdpYmxlIGZvciBCcmVhc3QgQ2FuY2VyIFNjcmVlbmluZyI6ICJQYXRpZW50IGlzIEZlbWFsZSBBZHVsdCIgYW5kICJObyBCcmVhc3QgQ2FuY2VyIFNjcmVlbmluZyBUYXNrIFByZXNlbnQiCgoKCi8vIENlcnZpY2FsIENhbmNlciBTY3JlZW5pbmcKZGVmaW5lICJHZXQgQ2VydmljYWwgQ2FuY2VyIFNjcmVlbmluZyBEZXNjcmlwdGlvbiI6ICdDZXJ2aWNhbCBDYW5jZXIgU2NyZWVuaW5nJwpkZWZpbmUgIkdldCBDZXJ2aWNhbCBDYW5jZXIgU2NyZWVuaW5nIFF1ZXN0aW9ubmFpcmUgUmVmZXJlbmNlIjogUmVmZXJlbmNlIHsKICByZWZlcmVuY2U6IHN0cmluZyB7IHZhbHVlOiAnUXVlc3Rpb25uYWlyZS9DZXJ2aWNhbENhbmNlclNjcmVlbmluZyd9Cn0KZGVmaW5lICJHZXQgQ2VydmljYWwgQ2FuY2VyIFNjcmVlbmluZyBUYXNrIElkZW50aWZpZXIiOiBJZGVudGlmaWVyIHsKICBzeXN0ZW06IHVyaSB7dmFsdWU6ICdodHRwOi8vbmNkLm9yZyd9LAogIHZhbHVlOiBzdHJpbmcge3ZhbHVlOiAnY2VydmljYWwtY2FuY2VyLXNjcmVlbmluZy10YXNrJ30KfQpkZWZpbmUgIkNlcnZpY2FsIENhbmNlciBTY3JlZW5pbmcgVGFza3MiOiBbVGFzazogIkNlcnZpY2FsIENhbmNlciBTY3JlZW5pbmcgU05PTUVEIENvZGUiXQpkZWZpbmUgIkNlcnZpY2FsIENhbmNlciBTY3JlZW5pbmcgVGFza3MgQ291bnQiOiBDb3VudCgiQ2VydmljYWwgQ2FuY2VyIFNjcmVlbmluZyBUYXNrcyIpCmRlZmluZSAiTm8gQ2VydmljYWwgQ2FuY2VyIFNjcmVlbmluZyBUYXNrIFByZXNlbnQiOiAiQ2VydmljYWwgQ2FuY2VyIFNjcmVlbmluZyBUYXNrcyBDb3VudCIgPSAwCi8vZGVmaW5lICJFbGlnaWJsZSBmb3IgQ2VydmljYWwgQ2FuY2VyIFNjcmVlbmluZyI6ICJQYXRpZW50IGlzIEZlbWFsZSBBZHVsdCIgYW5kICJObyBDZXJ2aWNhbCBDYW5jZXIgU2NyZWVuaW5nIFRhc2sgUHJlc2VudCIKZGVmaW5lICJDb21wbGV0ZWQgQ2VydmljYWwgQ2FuY2VyIFNjcmVlbmluZyBUYXNrcyI6IFtUYXNrOiAiQ2VydmljYWwgQ2FuY2VyIFNjcmVlbmluZyBTTk9NRUQgQ29kZSJdIFQgd2hlcmUgVC5zdGF0dXMgPSAnY29tcGxldGVkJwpkZWZpbmUgIkNvbXBsZXRlZCBDZXJ2aWNhbCBDYW5jZXIgU2NyZWVuaW5nIFRhc2tzIENvdW50IjogQ291bnQoIkNvbXBsZXRlZCBDZXJ2aWNhbCBDYW5jZXIgU2NyZWVuaW5nIFRhc2tzIikKZGVmaW5lICJFbGlnaWJsZSBmb3IgQ2VydmljYWwgQ2FuY2VyIFNjcmVlbmluZyI6ICJQYXRpZW50IGlzIEZlbWFsZSBBZHVsdCIgYW5kICJObyBDZXJ2aWNhbCBDYW5jZXIgU2NyZWVuaW5nIFRhc2sgUHJlc2VudCIKCgoKLy8gRGlhYmV0ZXMgTWVsbGl0dXMgU2NyZWVuaW5nCmRlZmluZSAiR2V0IERpYWJldGVzIE1lbGxpdHVzIFNjcmVlbmluZyBEZXNjcmlwdGlvbiI6ICdEaWFiZXRlcyBNZWxsaXR1cyBTY3JlZW5pbmcnCmRlZmluZSAiR2V0IERpYWJldGVzIE1lbGxpdHVzIFF1ZXN0aW9ubmFpcmUgUmVmZXJlbmNlIjogUmVmZXJlbmNlIHsKICByZWZlcmVuY2U6IHN0cmluZyB7IHZhbHVlOiAnUXVlc3Rpb25uYWlyZS9EaWFiZXRlc01lbGxpdHVzU2NyZWVuaW5nJ30KfQpkZWZpbmUgIkdldCBEaWFiZXRlcyBNZWxsaXR1cyBTY3JlZW5pbmcgVGFzayBJZGVudGlmaWVyIjogSWRlbnRpZmllciB7CiAgc3lzdGVtOiB1cmkge3ZhbHVlOiAnaHR0cDovL25jZC5vcmcnfSwKICB2YWx1ZTogc3RyaW5nIHt2YWx1ZTogJ2RpYWJldGVzLW1lbGxpdHVzLXNjcmVlbmluZy10YXNrJ30KfQpkZWZpbmUgIkRpYWJldGVzIE1lbGxpdHVzIFNjcmVlbmluZyBUYXNrcyI6IFtUYXNrOiAiRGlhYmV0ZXMgTWVsbGl0dXMgU2NyZWVuaW5nIFNOT01FRCBDb2RlIl0KZGVmaW5lICJEaWFiZXRlcyBNZWxsaXR1cyBTY3JlZW5pbmcgVGFza3MgQ291bnQiOiBDb3VudCgiRGlhYmV0ZXMgTWVsbGl0dXMgU2NyZWVuaW5nIFRhc2tzIikKZGVmaW5lICJObyBEaWFiZXRlcyBNZWxsaXR1cyBTY3JlZW5pbmcgVGFzayBQcmVzZW50IjogIkRpYWJldGVzIE1lbGxpdHVzIFNjcmVlbmluZyBUYXNrcyBDb3VudCIgPSAwCi8vZGVmaW5lICJFbGlnaWJsZSBmb3IgRGlhYmV0ZXMgTWVsbGl0dXMgU2NyZWVuaW5nIjogIlBhdGllbnQgaXMgQWR1bHQiIGFuZCAiTm8gRGlhYmV0ZXMgTWVsbGl0dXMgU2NyZWVuaW5nIFRhc2sgUHJlc2VudCIKZGVmaW5lICJDb21wbGV0ZWQgRGlhYmV0ZXMgTWVsbGl0dXMgU2NyZWVuaW5nIFRhc2tzIjogW1Rhc2s6ICJEaWFiZXRlcyBNZWxsaXR1cyBTY3JlZW5pbmcgU05PTUVEIENvZGUiXSBUIHdoZXJlIFQuc3RhdHVzID0gJ2NvbXBsZXRlZCcKZGVmaW5lICJDb21wbGV0ZWQgRGlhYmV0ZXMgTWVsbGl0dXMgU2NyZWVuaW5nIFRhc2tzIENvdW50IjogQ291bnQoIkNvbXBsZXRlZCBEaWFiZXRlcyBNZWxsaXR1cyBTY3JlZW5pbmcgVGFza3MiKQpkZWZpbmUgIkVsaWdpYmxlIGZvciBEaWFiZXRlcyBNZWxsaXR1cyBTY3JlZW5pbmciOiAiUGF0aWVudCBpcyBBZHVsdCIgYW5kICJObyBEaWFiZXRlcyBNZWxsaXR1cyBTY3JlZW5pbmcgVGFzayBQcmVzZW50IgoKCgovLyBDaHJvbmljIEtpZG5leSBEaXNlYXNlIChDS0QpIFNjcmVlbmluZwpkZWZpbmUgIkdldCBDS0QgU2NyZWVuaW5nIERlc2NyaXB0aW9uIjogJ0Nocm9uaWMgS2lkbmV5IERpc2Vhc2UgKENLRCkgU2NyZWVuaW5nJwpkZWZpbmUgIkdldCBDS0QgUXVlc3Rpb25uYWlyZSBSZWZlcmVuY2UiOiBSZWZlcmVuY2UgewogIHJlZmVyZW5jZTogc3RyaW5nIHsgdmFsdWU6ICdRdWVzdGlvbm5haXJlL0NLRFNjcmVlbmluZyd9Cn0KZGVmaW5lICJHZXQgQ0tEIFNjcmVlbmluZyBUYXNrIElkZW50aWZpZXIiOiBJZGVudGlmaWVyIHsKICBzeXN0ZW06IHVyaSB7dmFsdWU6ICdodHRwOi8vbmNkLm9yZyd9LAogIHZhbHVlOiBzdHJpbmcge3ZhbHVlOiAnY2tkLXNjcmVlbmluZy10YXNrJ30KfQpkZWZpbmUgIkNLRCBTY3JlZW5pbmcgVGFza3MiOiBbVGFzazogIkNLRCBTY3JlZW5pbmcgU05PTUVEIENvZGUiXQpkZWZpbmUgIkNLRCBTY3JlZW5pbmcgVGFza3MgQ291bnQiOiBDb3VudCgiQ0tEIFNjcmVlbmluZyBUYXNrcyIpCmRlZmluZSAiTm8gQ0tEIFNjcmVlbmluZyBUYXNrIFByZXNlbnQiOiAiQ0tEIFNjcmVlbmluZyBUYXNrcyBDb3VudCIgPSAwCi8vZGVmaW5lICJFbGlnaWJsZSBmb3IgQ0tEIFNjcmVlbmluZyI6ICJQYXRpZW50IGlzIEFkdWx0IiBhbmQgIk5vIENLRCBTY3JlZW5pbmcgVGFzayBQcmVzZW50IgpkZWZpbmUgIkNvbXBsZXRlZCBDS0QgU2NyZWVuaW5nIFRhc2tzIjogW1Rhc2s6ICJDS0QgU2NyZWVuaW5nIFNOT01FRCBDb2RlIl0gVCB3aGVyZSBULnN0YXR1cyA9ICdjb21wbGV0ZWQnCmRlZmluZSAiQ29tcGxldGVkIENLRCBTY3JlZW5pbmcgVGFza3MgQ291bnQiOiBDb3VudCgiQ29tcGxldGVkIENLRCBTY3JlZW5pbmcgVGFza3MiKQpkZWZpbmUgIkVsaWdpYmxlIGZvciBDS0QgU2NyZWVuaW5nIjogIlBhdGllbnQgaXMgQWR1bHQiIGFuZCAiTm8gQ0tEIFNjcmVlbmluZyBUYXNrIFByZXNlbnQiCgoKCi8vIEh5cGVydGVuc2lvbiBTY3JlZW5pbmcKZGVmaW5lICJHZXQgSHlwZXJ0ZW5zaW9uIFNjcmVlbmluZyBEZXNjcmlwdGlvbiI6ICdIeXBlcnRlbnNpb24gU2NyZWVuaW5nJwpkZWZpbmUgIkdldCBIeXBlcnRlbnNpb24gUXVlc3Rpb25uYWlyZSBSZWZlcmVuY2UiOiBSZWZlcmVuY2UgewogIHJlZmVyZW5jZTogc3RyaW5nIHsgdmFsdWU6ICdRdWVzdGlvbm5haXJlL0h5cGVydGVuc2lvblNjcmVlbmluZyd9Cn0KZGVmaW5lICJHZXQgSHlwZXJ0ZW5zaW9uIFNjcmVlbmluZyBUYXNrIElkZW50aWZpZXIiOiBJZGVudGlmaWVyIHsKICBzeXN0ZW06IHVyaSB7dmFsdWU6ICdodHRwOi8vbmNkLm9yZyd9LAogIHZhbHVlOiBzdHJpbmcge3ZhbHVlOiAnaHlwZXJ0ZW5zaW9uLXNjcmVlbmluZy10YXNrJ30KfQpkZWZpbmUgIkh5cGVydGVuc2lvbiBTY3JlZW5pbmcgVGFza3MiOiBbVGFzazogIkh5cGVydGVuc2lvbiBTY3JlZW5pbmcgU05PTUVEIENvZGUiXQpkZWZpbmUgIkh5cGVydGVuc2lvbiBTY3JlZW5pbmcgVGFza3MgQ291bnQiOiBDb3VudCgiSHlwZXJ0ZW5zaW9uIFNjcmVlbmluZyBUYXNrcyIpCmRlZmluZSAiTm8gSHlwZXJ0ZW5zaW9uIFNjcmVlbmluZyBUYXNrIFByZXNlbnQiOiAiSHlwZXJ0ZW5zaW9uIFNjcmVlbmluZyBUYXNrcyBDb3VudCIgPSAwCi8vZGVmaW5lICJFbGlnaWJsZSBmb3IgSHlwZXJ0ZW5zaW9uIFNjcmVlbmluZyI6ICJQYXRpZW50IGlzIEFkdWx0IiBhbmQgIk5vIEh5cGVydGVuc2lvbiBTY3JlZW5pbmcgVGFzayBQcmVzZW50IgpkZWZpbmUgIkNvbXBsZXRlZCBIeXBlcnRlbnNpb24gU2NyZWVuaW5nIFRhc2tzIjogW1Rhc2s6ICJIeXBlcnRlbnNpb24gU2NyZWVuaW5nIFNOT01FRCBDb2RlIl0gVCB3aGVyZSBULnN0YXR1cyA9ICdjb21wbGV0ZWQnCmRlZmluZSAiQ29tcGxldGVkIEh5cGVydGVuc2lvbiBTY3JlZW5pbmcgVGFza3MgQ291bnQiOiBDb3VudCgiQ29tcGxldGVkIEh5cGVydGVuc2lvbiBTY3JlZW5pbmcgVGFza3MiKQpkZWZpbmUgIkVsaWdpYmxlIGZvciBIeXBlcnRlbnNpb24gU2NyZWVuaW5nIjogIlBhdGllbnQgaXMgQWR1bHQiIGFuZCAiTm8gSHlwZXJ0ZW5zaW9uIFNjcmVlbmluZyBUYXNrIFByZXNlbnQiCgoKCi8vIE1lbnRhbCBIZWFsdGggU2NyZWVuaW5nCmRlZmluZSAiR2V0IE1lbnRhbCBIZWFsdGggU2NyZWVuaW5nIERlc2NyaXB0aW9uIjogJ01lbnRhbCBIZWFsdGggU2NyZWVuaW5nJwpkZWZpbmUgIkdldCBNZW50YWwgSGVhbHRoIFF1ZXN0aW9ubmFpcmUgUmVmZXJlbmNlIjogUmVmZXJlbmNlIHsKICByZWZlcmVuY2U6IHN0cmluZyB7IHZhbHVlOiAnUXVlc3Rpb25uYWlyZS9NZW50YWxIZWFsdGhTY3JlZW5pbmcnfQp9CmRlZmluZSAiR2V0IE1lbnRhbCBIZWFsdGggU2NyZWVuaW5nIFRhc2sgSWRlbnRpZmllciI6IElkZW50aWZpZXIgewogIHN5c3RlbTogdXJpIHt2YWx1ZTogJ2h0dHA6Ly9uY2Qub3JnJ30sCiAgdmFsdWU6IHN0cmluZyB7dmFsdWU6ICdtZW50YWwtaGVhbHRoLXNjcmVlbmluZy10YXNrJ30KfQpkZWZpbmUgIk1lbnRhbCBIZWFsdGggU2NyZWVuaW5nIFRhc2tzIjogW1Rhc2s6ICJNZW50YWwgSGVhbHRoIFNjcmVlbmluZyBTTk9NRUQgQ29kZSJdCmRlZmluZSAiTWVudGFsIEhlYWx0aCBTY3JlZW5pbmcgVGFza3MgQ291bnQiOiBDb3VudCgiTWVudGFsIEhlYWx0aCBTY3JlZW5pbmcgVGFza3MiKQpkZWZpbmUgIk5vIE1lbnRhbCBIZWFsdGggU2NyZWVuaW5nIFRhc2sgUHJlc2VudCI6ICJNZW50YWwgSGVhbHRoIFNjcmVlbmluZyBUYXNrcyBDb3VudCIgPSAwCi8vZGVmaW5lICJFbGlnaWJsZSBmb3IgTWVudGFsIEhlYWx0aCBTY3JlZW5pbmciOiAiUGF0aWVudCBpcyBBZHVsdCIgYW5kICJObyBNZW50YWwgSGVhbHRoIFNjcmVlbmluZyBUYXNrIFByZXNlbnQiCmRlZmluZSAiQ29tcGxldGVkIE1lbnRhbCBIZWFsdGggU2NyZWVuaW5nIFRhc2tzIjogW1Rhc2s6ICJNZW50YWwgSGVhbHRoIFNjcmVlbmluZyBTTk9NRUQgQ29kZSJdIFQgd2hlcmUgVC5zdGF0dXMgPSAnY29tcGxldGVkJwpkZWZpbmUgIkNvbXBsZXRlZCBNZW50YWwgSGVhbHRoIFNjcmVlbmluZyBUYXNrcyBDb3VudCI6IENvdW50KCJDb21wbGV0ZWQgTWVudGFsIEhlYWx0aCBTY3JlZW5pbmcgVGFza3MiKQpkZWZpbmUgIkVsaWdpYmxlIGZvciBNZW50YWwgSGVhbHRoIFNjcmVlbmluZyI6ICJQYXRpZW50IGlzIEFkdWx0IiBhbmQgIk5vIE1lbnRhbCBIZWFsdGggU2NyZWVuaW5nIFRhc2sgUHJlc2VudCI="
          }
        ]
      },
      "request": {
        "method": "PUT",
        "url": "Library/ncdlibrary"
      }
    },
    {
      "resource": {
        "resourceType": "Questionnaire",
        "id": "CKDScreening",
        "title": "Chronic Kidney Disease (CKD) Screening",
        "description": "Chronic Kidney Disease (CKD) Screening",
        "status": "draft",
        "purpose": "Chronic Kidney Disease (CKD) Screening",
        "identifier": {
          "system": "http://localhost/Questionnaires",
          "value": "CKDScreening"
        },
        "extension": [
          {
            "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-entryMode",
            "valueCode": "prior-edit"
          },
          {
            "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
            "valueExpression": {
              "language": "application/x-fhir-query",
              "expression": "Encounter",
              "name": "CKDScreeningEncounter"
            }
          }
        ],
        "item": [
          {
            "linkId": "symptoms",
            "text": "Symptoms",
            "type": "group",
            "readOnly": true,
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                "valueCodeableConcept": {
                  "coding": [
                    {
                      "system": "http://hl7.org/fhir/questionnaire-item-control",
                      "code": "page",
                      "display": "Page"
                    }
                  ],
                  "text": "Page"
                }
              }
            ],
            "item": [
              {
                "linkId": "symptoms-choice",
                "text": "Are you presently experiencing any of the following symptom(s)?",
                "type": "choice",
                "answerOption": [
                  {
                    "valueCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "278528006",
                      "display": "Facial swelling"
                    }
                  },
                  {
                    "valueCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "248480008",
                      "display": "Leg swelling symptom"
                    }
                  },
                  {
                    "valueCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "102835006",
                      "display": "Difficulty passing urine"
                    }
                  },
                  {
                    "extension": [
                      {
                        "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-optionExclusive",
                        "valueBoolean": true
                      }
                    ],
                    "valueCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "161915001",
                      "display": "No general symptom"
                    }
                  }
                ],
                "repeats": true,
                "required": true,
                "readOnly": false
              },
              {
                "linkId": "symptom-facial-swelling",
                "type": "group",
                "extension": [
                  {
                    "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                    "valueExpression": {
                      "language": "application/x-fhir-query",
                      "expression": "Condition",
                      "name": "facialSwelling"
                    }
                  },
                  {
                    "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                    "valueBoolean": true
                  }
                ],
                "enableWhen": [
                  {
                    "question": "symptoms-choice",
                    "operator": "=",
                    "answerCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "278528006",
                      "display": "Facial swelling"
                    }
                  }
                ],
                "item": [
                  {
                    "linkId": "condition-facial-swelling",
                    "type": "choice",
                    "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                    "initial": [
                      {
                        "valueCoding": {
                          "system": "http://snomed.info/sct",
                          "code": "278528006",
                          "display": "Facial swelling"
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "linkId": "symptom-leg-swelling",
                "type": "group",
                "extension": [
                  {
                    "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                    "valueExpression": {
                      "language": "application/x-fhir-query",
                      "expression": "Condition",
                      "name": "legSwelling"
                    }
                  },
                  {
                    "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                    "valueBoolean": true
                  }
                ],
                "enableWhen": [
                  {
                    "question": "symptoms-choice",
                    "operator": "=",
                    "answerCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "248480008",
                      "display": "Leg swelling symptom"
                    }
                  }
                ],
                "item": [
                  {
                    "linkId": "condition-leg-swelling",
                    "type": "choice",
                    "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                    "initial": [
                      {
                        "valueCoding": {
                          "system": "http://snomed.info/sct",
                          "code": "248480008",
                          "display": "Leg swelling symptom"
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "linkId": "symptom-difficulty-passing-urine",
                "type": "group",
                "extension": [
                  {
                    "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                    "valueExpression": {
                      "language": "application/x-fhir-query",
                      "expression": "Condition",
                      "name": "DifficultyPassingUrine"
                    }
                  },
                  {
                    "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                    "valueBoolean": true
                  }
                ],
                "enableWhen": [
                  {
                    "question": "symptoms-choice",
                    "operator": "=",
                    "answerCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "102835006",
                      "display": "Difficulty passing urine"
                    }
                  }
                ],
                "item": [
                  {
                    "linkId": "condition-difficulty-passing-urine",
                    "type": "choice",
                    "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                    "initial": [
                      {
                        "valueCoding": {
                          "system": "http://snomed.info/sct",
                          "code": "102835006",
                          "display": "Difficulty passing urine"
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "linkId": "no-symptoms",
                "type": "group",
                "extension": [
                  {
                    "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                    "valueExpression": {
                      "language": "application/x-fhir-query",
                      "expression": "Condition",
                      "name": "noSymptoms"
                    }
                  },
                  {
                    "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                    "valueBoolean": true
                  }
                ],
                "enableWhen": [
                  {
                    "question": "symptoms-choice",
                    "operator": "=",
                    "answerCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "161915001",
                      "display": "No general symptom"
                    }
                  }
                ],
                "item": [
                  {
                    "type": "choice",
                    "linkId": "no-general-symptom",
                    "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                    "initial": [
                      {
                        "valueCoding": {
                          "system": "http://snomed.info/sct",
                          "code": "161915001",
                          "display": "No general symptom"
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "linkId": "remarks-optional",
                "text": "Remarks (optional)",
                "type": "string",
                "required": false,
                "maxLength": 200
              }
            ]
          }
        ]
      },
      "request": {
        "method": "PUT",
        "url": "Questionnaire/CKDScreening"
      }
    },
    {
      "resource": {
        "resourceType": "Questionnaire",
        "id": "HypertensionScreening",
        "title": "Hypertension Screening",
        "status": "draft",
        "description": "Hypertension Screening",
        "purpose": "Hypertension Screening",
        "identifier": {
          "system": "http://localhost/Questionnaires",
          "value": "HypertensionScreening"
        },
        "extension": [
          {
            "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-entryMode",
            "valueCode": "prior-edit"
          },
          {
            "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
            "valueExpression": {
              "language": "application/x-fhir-query",
              "expression": "Encounter",
              "name": "hypertensionScreeningEncounter"
            }
          }
        ],
        "item": [
          {
            "linkId": "observation-group",
            "type": "group",
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                "valueCodeableConcept": {
                  "coding": [
                    {
                      "system": "http://hl7.org/fhir/questionnaire-item-control",
                      "code": "page",
                      "display": "Page"
                    }
                  ],
                  "text": "Page"
                }
              },
              {
                "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                "valueExpression": {
                  "language": "application/x-fhir-query",
                  "expression": "Observation",
                  "name": "observation"
                }
              }
            ],
            "item": [
              {
                "text": "Blood Pressure [mm Hg]",
                "linkId": "blood-pressure",
                "type": "group",
                "extension": [
                  {
                    "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                    "valueCodeableConcept": {
                      "coding": [
                        {
                          "system": "http://hl7.org/fhir/questionnaire-item-control",
                          "code": "page",
                          "display": "Page"
                        }
                      ],
                      "text": "Page"
                    }
                  }
                ],
                "item": [
                  {
                    "linkId": "bp-code",
                    "extension": [
                      {
                        "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                        "valueBoolean": true
                      }
                    ],
                    "definition": "http://hl7.org/fhir/StructureDefinition/Observation#Observation.code",
                    "type": "choice",
                    "initial": [
                      {
                        "valueCoding": {
                          "system": "http://loinc.org",
                          "code": "85354-9",
                          "display": "Blood pressure panel with all children optional"
                        }
                      }
                    ]
                  },
                  {
                    "linkId": "systolic-bp",
                    "definition": "http://hl7.org/fhir/StructureDefinition/Observation#Observation.component",
                    "type": "group",
                    "item": [
                      {
                        "linkId": "systolic-bp-obs-code",
                        "type": "group",
                        "item": [
                          {
                            "linkId": "systolic-bp-code",
                            "extension": [
                              {
                                "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                                "valueBoolean": true
                              }
                            ],
                            "definition": "http://hl7.org/fhir/StructureDefinition/Observation#Observation.component.code",
                            "type": "choice",
                            "initial": [
                              {
                                "valueCoding": {
                                  "code": "8480-6",
                                  "display": "Systolic Blood Pressure",
                                  "system": "http://loinc.org"
                                }
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "linkId": "systolic-bp-value",
                        "definition": "http://hl7.org/fhir/StructureDefinition/Observation#Observation.component.valueQuantity.value",
                        "text": "Systolic BP",
                        "type": "integer",
                        "required": true
                      }
                    ]
                  },
                  {
                    "linkId": "diastolic-bp",
                    "definition": "http://hl7.org/fhir/StructureDefinition/Observation#Observation.component",
                    "type": "group",
                    "item": [
                      {
                        "linkId": "diastolic-bp-obs-code",
                        "type": "group",
                        "item": [
                          {
                            "linkId": "diastolic-bp-code",
                            "extension": [
                              {
                                "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                                "valueBoolean": true
                              }
                            ],
                            "definition": "http://hl7.org/fhir/StructureDefinition/Observation#Observation.component.code",
                            "type": "choice",
                            "initial": [
                              {
                                "valueCoding": {
                                  "code": "8462-4",
                                  "display": "Diastolic Blood Pressure",
                                  "system": "http://loinc.org"
                                }
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "linkId": "diastolic-bp-value",
                        "definition": "http://hl7.org/fhir/StructureDefinition/Observation#Observation.component.valueQuantity",
                        "text": "Diastolic BP",
                        "type": "integer",
                        "required": true
                      }
                    ]
                  }
                ]
              },
              {
                "text": "Normal",
                "linkId": "normal-outcome",
                "type": "display",
                "enableWhen": [
                  {
                    "question": "systolic-bp-value",
                    "operator": "<",
                    "answerInteger": 140
                  },
                  {
                    "question": "diastolic-bp-value",
                    "operator": "<",
                    "answerInteger": 90
                  }
                ],
                "enableBehavior": "all"
              },
              {
                "text": "Suspected Hypertension",
                "linkId": "suspected-hypertension-outcome",
                "type": "display",
                "enableWhen": [
                  {
                    "question": "systolic-bp-value",
                    "operator": ">=",
                    "answerInteger": 140
                  },
                  {
                    "question": "diastolic-bp-value",
                    "operator": ">=",
                    "answerInteger": 90
                  }
                ],
                "enableBehavior": "any"
              }
            ]
          },
          {
            "text": "Symptoms and Outcome",
            "linkId": "symptoms-outcome",
            "type": "group",
            "required": false,
            "readOnly": true,
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                "valueCodeableConcept": {
                  "coding": [
                    {
                      "system": "http://hl7.org/fhir/questionnaire-item-control",
                      "code": "page",
                      "display": "Page"
                    }
                  ],
                  "text": "Page"
                }
              }
            ],
            "item": [
              {
                "text": "Are you presently experiencing any of the following symptom(s)?",
                "type": "choice",
                "linkId": "symptoms-choice",
                "repeats": true,
                "required": true,
                "answerOption": [
                  {
                    "valueCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "80313002",
                      "display": "Palpitations"
                    }
                  },
                  {
                    "valueCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "404640003",
                      "display": "Dizziness"
                    }
                  },
                  {
                    "valueCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "84229001",
                      "display": "Fatigue"
                    }
                  },
                  {
                    "valueCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "29857009",
                      "display": "Chest Pain"
                    }
                  },
                  {
                    "valueCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "230145002",
                      "display": "Difficulty breathing"
                    }
                  },
                  {
                    "extension": [
                      {
                        "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-optionExclusive",
                        "valueBoolean": true
                      }
                    ],
                    "valueCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "161915001",
                      "display": "No general symptom"
                    }
                  }
                ]
              },
              {
                "linkId": "symptom-palpitations",
                "type": "group",
                "extension": [
                  {
                    "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                    "valueExpression": {
                      "language": "application/x-fhir-query",
                      "expression": "Condition",
                      "name": "palpitations"
                    }
                  },
                  {
                    "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                    "valueBoolean": true
                  }
                ],
                "enableWhen": [
                  {
                    "question": "symptoms-choice",
                    "operator": "=",
                    "answerCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "80313002",
                      "display": "Palpitations"
                    }
                  }
                ],
                "item": [
                  {
                    "type": "choice",
                    "linkId": "condition-palpitations",
                    "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                    "initial": [
                      {
                        "valueCoding": {
                          "system": "http://snomed.info/sct",
                          "code": "80313002",
                          "display": "Palpitations"
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "linkId": "symptom-dizziness",
                "type": "group",
                "extension": [
                  {
                    "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                    "valueExpression": {
                      "language": "application/x-fhir-query",
                      "expression": "Condition",
                      "name": "dizziness"
                    }
                  },
                  {
                    "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                    "valueBoolean": true
                  }
                ],
                "enableWhen": [
                  {
                    "question": "symptoms-choice",
                    "operator": "=",
                    "answerCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "404640003",
                      "display": "Dizziness"
                    }
                  }
                ],
                "item": [
                  {
                    "type": "choice",
                    "linkId": "condition-dizziness",
                    "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                    "initial": [
                      {
                        "valueCoding": {
                          "system": "http://snomed.info/sct",
                          "code": "404640003",
                          "display": "Dizziness"
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "linkId": "symptom-fatigue",
                "type": "group",
                "extension": [
                  {
                    "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                    "valueExpression": {
                      "language": "application/x-fhir-query",
                      "expression": "Condition",
                      "name": "fatigue"
                    }
                  },
                  {
                    "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                    "valueBoolean": true
                  }
                ],
                "enableWhen": [
                  {
                    "question": "symptoms-choice",
                    "operator": "=",
                    "answerCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "84229001",
                      "display": "Fatigue"
                    }
                  }
                ],
                "item": [
                  {
                    "type": "choice",
                    "linkId": "condition-fatigue",
                    "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                    "initial": [
                      {
                        "valueCoding": {
                          "system": "http://snomed.info/sct",
                          "code": "84229001",
                          "display": "Fatigue"
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "linkId": "symptom-chest-pain",
                "type": "group",
                "extension": [
                  {
                    "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                    "valueExpression": {
                      "language": "application/x-fhir-query",
                      "expression": "Condition",
                      "name": "chestPain"
                    }
                  },
                  {
                    "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                    "valueBoolean": true
                  }
                ],
                "enableWhen": [
                  {
                    "question": "symptoms-choice",
                    "operator": "=",
                    "answerCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "29857009",
                      "display": "Chest Pain"
                    }
                  }
                ],
                "item": [
                  {
                    "type": "choice",
                    "linkId": "condition-chest-pain",
                    "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                    "initial": [
                      {
                        "valueCoding": {
                          "system": "http://snomed.info/sct",
                          "code": "29857009",
                          "display": "Chest Pain"
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "linkId": "symptom-difficulty-breathing",
                "type": "group",
                "extension": [
                  {
                    "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                    "valueExpression": {
                      "language": "application/x-fhir-query",
                      "expression": "Condition",
                      "name": "difficultyBreathing"
                    }
                  },
                  {
                    "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                    "valueBoolean": true
                  }
                ],
                "enableWhen": [
                  {
                    "question": "symptoms-choice",
                    "operator": "=",
                    "answerCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "230145002",
                      "display": "Difficulty breathing"
                    }
                  }
                ],
                "item": [
                  {
                    "type": "choice",
                    "linkId": "condition-difficulty-breathing",
                    "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                    "initial": [
                      {
                        "valueCoding": {
                          "system": "http://snomed.info/sct",
                          "code": "230145002",
                          "display": "Difficulty breathing"
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "linkId": "no-symptoms",
                "type": "group",
                "extension": [
                  {
                    "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                    "valueExpression": {
                      "language": "application/x-fhir-query",
                      "expression": "Condition",
                      "name": "noSymptoms"
                    }
                  },
                  {
                    "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                    "valueBoolean": true
                  }
                ],
                "enableWhen": [
                  {
                    "question": "symptoms-choice",
                    "operator": "=",
                    "answerCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "161915001",
                      "display": "No general symptom"
                    }
                  }
                ],
                "item": [
                  {
                    "type": "choice",
                    "linkId": "no-general-symptom",
                    "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                    "initial": [
                      {
                        "valueCoding": {
                          "system": "http://snomed.info/sct",
                          "code": "161915001",
                          "display": "No general symptom"
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "text": "Remarks (optional)",
                "linkId": "remarks-optional",
                "type": "string",
                "required": false,
                "maxLength": 200
              }
            ]
          }
        ]
      },
      "request": {
        "method": "PUT",
        "url": "Questionnaire/HypertensionScreening"
      }
    },
    {
      "resource": {
        "resourceType": "Questionnaire",
        "id": "MentalHealthScreening",
        "title": "Mental Health Screening",
        "description": "Mental Health Screening",
        "status": "draft",
        "purpose": "Mental Health Screening",
        "identifier": {
          "system": "http://localhost/Questionnaires",
          "value": "MentalHealthScreening"
        },
        "extension": [
          {
            "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-entryMode",
            "valueCode": "prior-edit"
          },
          {
            "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
            "valueExpression": {
              "language": "application/x-fhir-query",
              "expression": "Encounter",
              "name": "mentalHealthScreeningEncounter"
            }
          }
        ],
        "item": [
          {
            "linkId": "symptoms",
            "text": "Symptoms",
            "type": "group",
            "readOnly": true,
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                "valueCodeableConcept": {
                  "coding": [
                    {
                      "system": "http://hl7.org/fhir/questionnaire-item-control",
                      "code": "page",
                      "display": "Page"
                    }
                  ],
                  "text": "Page"
                }
              }
            ],
            "item": [
              {
                "linkId": "symptoms-choice",
                "text": "Are you presently experiencing any of the following symptom(s)?",
                "type": "choice",
                "repeats": true,
                "required": true,
                "answerOption": [
                  {
                    "valueCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "17029006",
                      "display": "Feeling despair"
                    }
                  },
                  {
                    "valueCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "247796005",
                      "display": "Loss of capacity for enjoyment"
                    }
                  },
                  {
                    "valueCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "59050008",
                      "display": "Initial insomnia"
                    }
                  },
                  {
                    "valueCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "225457007",
                      "display": "Feeling suicidal"
                    }
                  },
                  {
                    "extension": [
                      {
                        "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-optionExclusive",
                        "valueBoolean": true
                      }
                    ],
                    "valueCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "161915001",
                      "display": "No general symptom"
                    }
                  }
                ]
              },
              {
                "linkId": "symptom-feeling-despair",
                "type": "group",
                "extension": [
                  {
                    "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                    "valueExpression": {
                      "language": "application/x-fhir-query",
                      "expression": "Condition",
                      "name": "feelingDespair"
                    }
                  },
                  {
                    "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                    "valueBoolean": true
                  }
                ],
                "enableWhen": [
                  {
                    "question": "symptoms-choice",
                    "operator": "=",
                    "answerCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "17029006",
                      "display": "Feeling despair"
                    }
                  }
                ],
                "item": [
                  {
                    "linkId": "condition-feeling-despair",
                    "type": "choice",
                    "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                    "initial": [
                      {
                        "valueCoding": {
                          "system": "http://snomed.info/sct",
                          "code": "17029006",
                          "display": "Feeling despair"
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "linkId": "symptom-loss-of-capacity-of-enjoyment",
                "type": "group",
                "extension": [
                  {
                    "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                    "valueExpression": {
                      "language": "application/x-fhir-query",
                      "expression": "Condition",
                      "name": "lossOfCapacityForEnjoyment"
                    }
                  },
                  {
                    "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                    "valueBoolean": true
                  }
                ],
                "enableWhen": [
                  {
                    "question": "symptoms-choice",
                    "operator": "=",
                    "answerCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "247796005",
                      "display": "Loss of capacity for enjoyment"
                    }
                  }
                ],
                "item": [
                  {
                    "linkId": "condition-loss-of-capacity-of-enjoyment",
                    "type": "choice",
                    "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                    "initial": [
                      {
                        "valueCoding": {
                          "system": "http://snomed.info/sct",
                          "code": "247796005",
                          "display": "Loss of capacity for enjoyment"
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "linkId": "symptom-initial-insomnia",
                "type": "group",
                "extension": [
                  {
                    "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                    "valueExpression": {
                      "language": "application/x-fhir-query",
                      "expression": "Condition",
                      "name": "initialInsomnia"
                    }
                  },
                  {
                    "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                    "valueBoolean": true
                  }
                ],
                "enableWhen": [
                  {
                    "question": "symptoms-choice",
                    "operator": "=",
                    "answerCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "59050008",
                      "display": "Initial insomnia"
                    }
                  }
                ],
                "item": [
                  {
                    "linkId": "condition-initial-insomnia",
                    "type": "choice",
                    "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                    "initial": [
                      {
                        "valueCoding": {
                          "system": "http://snomed.info/sct",
                          "code": "59050008",
                          "display": "Initial insomnia"
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "linkId": "symptom-feeling-suicidal",
                "type": "group",
                "extension": [
                  {
                    "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                    "valueExpression": {
                      "language": "application/x-fhir-query",
                      "expression": "Condition",
                      "name": "feelingSuicidal"
                    }
                  },
                  {
                    "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                    "valueBoolean": true
                  }
                ],
                "enableWhen": [
                  {
                    "question": "symptoms-choice",
                    "operator": "=",
                    "answerCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "225457007",
                      "display": "Feeling suicidal"
                    }
                  }
                ],
                "item": [
                  {
                    "linkId": "condition-feeling-suicidal",
                    "type": "choice",
                    "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                    "initial": [
                      {
                        "valueCoding": {
                          "system": "http://snomed.info/sct",
                          "code": "225457007",
                          "display": "Feeling suicidal"
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "linkId": "no-symptoms",
                "type": "group",
                "extension": [
                  {
                    "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                    "valueExpression": {
                      "language": "application/x-fhir-query",
                      "expression": "Condition",
                      "name": "noSymptoms"
                    }
                  },
                  {
                    "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                    "valueBoolean": true
                  }
                ],
                "enableWhen": [
                  {
                    "question": "symptoms-choice",
                    "operator": "=",
                    "answerCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "161915001",
                      "display": "No general symptom"
                    }
                  }
                ],
                "item": [
                  {
                    "type": "choice",
                    "linkId": "no-general-symptom",
                    "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                    "initial": [
                      {
                        "valueCoding": {
                          "system": "http://snomed.info/sct",
                          "code": "161915001",
                          "display": "No general symptom"
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "linkId": "remarks-optional",
                "text": "Remarks (optional)",
                "type": "string",
                "required": false,
                "maxLength": 200
              }
            ]
          }
        ]
      },
      "request": {
        "method": "PUT",
        "url": "Questionnaire/MentalHealthScreening"
      }
    },
    {
      "resource": {
        "resourceType": "Questionnaire",
        "id": "DiabetesMellitusScreening",
        "title": "Diabetes Mellitus Screening",
        "status": "draft",
        "description": "Diabetes Mellitus Screening",
        "purpose": "Diabetes Mellitus Screening",
        "identifier": {
          "system": "http://localhost/Questionnaires",
          "value": "DiabetesMellitusScreening"
        },
        "extension": [
          {
            "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-entryMode",
            "valueCode": "prior-edit"
          },
          {
            "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
            "valueExpression": {
              "language": "application/x-fhir-query",
              "expression": "Encounter",
              "name": "diabetesMellitusScreeningEncounter"
            }
          }
        ],
        "item": [
          {
            "text": "Diabetes Screening",
            "linkId": "diabetes-screening",
            "type": "group",
            "readOnly": true,
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                "valueCodeableConcept": {
                  "coding": [
                    {
                      "system": "http://hl7.org/fhir/questionnaire-item-control",
                      "code": "page",
                      "display": "Page"
                    }
                  ],
                  "text": "Page"
                }
              },
              {
                "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                "valueExpression": {
                  "language": "application/x-fhir-query",
                  "expression": "Observation",
                  "name": "rbs-observation"
                }
              }
            ],
            "item": [
              {
                "linkId": "rbs",
                "type": "group",
                "item": [
                  {
                    "linkId": "hidden-waist-circumference",
                    "text": "Waist Circumference",
                    "type": "integer",
                    "maxLength": 3,
                    "readOnly": true,
                    "initial": [
                      {
                        "valueInteger": 78
                      }
                    ],
                    "extension": [
                      {
                        "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                        "valueBoolean": true
                      }
                    ]
                  },
                  {
                    "linkId": "hidden-gender",
                    "text": "Gender:",
                    "type": "string",
                    "readOnly": true,
                    "extension": [
                      {
                        "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                        "valueBoolean": true
                      }
                    ],
                    "initial": [
                      {
                        "valueString": "Female"
                      }
                    ]
                  },
                  {
                    "text": "Random Blood Sugar [mg/dL]",
                    "linkId": "random-blood-sugar",
                    "definition": "http://hl7.org/fhir/StructureDefinition/Observation#Observation.valueQuantity",
                    "type": "integer",
                    "required": true,
                    "code": [
                      {
                        "system": "http://snomed.info/sct",
                        "code": "271061004",
                        "display": "Random blood glucose measurement"
                      }
                    ],
                    "extension": [
                      {
                        "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-unit",
                        "valueCoding": {
                          "system": "http://unitsofmeasure.org",
                          "code": "mg/dL",
                          "display": "mg/dL"
                        }
                      },
                      {
                        "url": "http://hl7.org/fhir/StructureDefinition/maxValue",
                        "valueInteger": 600
                      },
                      {
                        "url": "http://hl7.org/fhir/StructureDefinition/minValue",
                        "valueInteger": 30
                      },
                      {
                        "url": "http://hl7.org/fhir/StructureDefinition/minLength",
                        "valueInteger": 2
                      }
                    ]
                  },
                  {
                    "linkId": "rbs-obs-code",
                    "type": "choice",
                    "definition": "http://hl7.org/fhir/StructureDefinition/Observation#Observation.code",
                    "extension": [
                      {
                        "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                        "valueBoolean": true
                      }
                    ],
                    "initial": [
                      {
                        "valueCoding": {
                          "system": "http://snomed.info/sct",
                          "code": "271061004",
                          "display": "Random blood glucose measurement"
                        }
                      }
                    ]
                  },
                  {
                    "text": "Normal",
                    "linkId": "normal-sugar",
                    "type": "display",
                    "enableWhen": [
                      {
                        "question": "random-blood-sugar",
                        "operator": ">",
                        "answerInteger": 75
                      },
                      {
                        "question": "random-blood-sugar",
                        "operator": "<=",
                        "answerInteger": 120
                      }
                    ],
                    "enableBehavior": "all"
                  },
                  {
                    "text": "Suspected DM",
                    "linkId": "suspected-dm",
                    "type": "display",
                    "enableWhen": [
                      {
                        "question": "random-blood-sugar",
                        "operator": ">",
                        "answerInteger": 120
                      }
                    ]
                  },
                  {
                    "text": "Tested on",
                    "linkId": "1.0.3",
                    "type": "date",
                    "repeats": false,
                    "required": true,
                    "readOnly": false
                  },
                  {
                    "text": "RBS Test Not Done",
                    "linkId": "1.0.4",
                    "type": "display",
                    "enableWhen": [
                      {
                        "question": "1.0.3",
                        "operator": "exists",
                        "answerBoolean": false
                      }
                    ]
                  },
                  {
                    "text": "Error: Test date cannot be later than today.",
                    "linkId": "1.0.5",
                    "type": "display",
                    "extension": [
                      {
                        "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-enableWhenExpression",
                        "valueExpression": {
                          "language": "text/fhirpath",
                          "expression": "%resource.repeat(item).where(linkId='1.0.3' and answer.empty().not()).select(answer.value) > today()"
                        }
                      }
                    ]
                  },
                  {
                    "linkId": "risk-0-female",
                    "text": "DM Risk Score",
                    "type": "integer",
                    "required": false,
                    "readOnly": true,
                    "initial": [
                      {
                        "valueInteger": 0
                      }
                    ],
                    "enableWhen": [
                      {
                        "question": "hidden-gender",
                        "operator": "=",
                        "answerString": "Female"
                      },
                      {
                        "question": "hidden-waist-circumference",
                        "operator": "<=",
                        "answerInteger": 80
                      }
                    ],
                    "enableBehavior": "all"
                  },
                  {
                    "linkId": "risk-0-male",
                    "text": "DM Risk Score",
                    "type": "integer",
                    "required": false,
                    "readOnly": true,
                    "initial": [
                      {
                        "valueInteger": 0
                      }
                    ],
                    "enableWhen": [
                      {
                        "question": "hidden-gender",
                        "operator": "=",
                        "answerString": "Male"
                      },
                      {
                        "question": "hidden-waist-circumference",
                        "operator": "<=",
                        "answerInteger": 90
                      }
                    ],
                    "enableBehavior": "all"
                  },
                  {
                    "linkId": "risk-1-female",
                    "text": "DM Risk Score",
                    "type": "integer",
                    "required": false,
                    "readOnly": true,
                    "initial": [
                      {
                        "valueInteger": 1
                      }
                    ],
                    "enableWhen": [
                      {
                        "question": "hidden-gender",
                        "operator": "=",
                        "answerString": "Female"
                      },
                      {
                        "question": "hidden-waist-circumference",
                        "operator": ">",
                        "answerInteger": 80
                      },
                      {
                        "question": "hidden-waist-circumference",
                        "operator": "<=",
                        "answerInteger": 90
                      }
                    ],
                    "enableBehavior": "all"
                  },
                  {
                    "linkId": "risk-1-male",
                    "text": "DM Risk Score",
                    "type": "integer",
                    "required": false,
                    "readOnly": true,
                    "initial": [
                      {
                        "valueInteger": 1
                      }
                    ],
                    "enableWhen": [
                      {
                        "question": "hidden-gender",
                        "operator": "=",
                        "answerString": "Male"
                      },
                      {
                        "question": "hidden-waist-circumference",
                        "operator": ">",
                        "answerInteger": 90
                      },
                      {
                        "question": "hidden-waist-circumference",
                        "operator": "<=",
                        "answerInteger": 100
                      }
                    ],
                    "enableBehavior": "all"
                  },
                  {
                    "linkId": "risk-2-female",
                    "text": "DM Risk Score",
                    "type": "integer",
                    "required": false,
                    "readOnly": true,
                    "initial": [
                      {
                        "valueInteger": 2
                      }
                    ],
                    "enableWhen": [
                      {
                        "question": "hidden-gender",
                        "operator": "=",
                        "answerString": "Female"
                      },
                      {
                        "question": "hidden-waist-circumference",
                        "operator": ">",
                        "answerInteger": 90
                      }
                    ],
                    "enableBehavior": "all"
                  },
                  {
                    "linkId": "risk-2-male",
                    "text": "DM Risk Score",
                    "type": "integer",
                    "required": false,
                    "readOnly": true,
                    "initial": [
                      {
                        "valueInteger": 2
                      }
                    ],
                    "enableWhen": [
                      {
                        "question": "hidden-gender",
                        "operator": "=",
                        "answerString": "Male"
                      },
                      {
                        "question": "hidden-waist-circumference",
                        "operator": ">",
                        "answerInteger": 100
                      }
                    ],
                    "enableBehavior": "all"
                  }
                ]
              }
            ]
          },
          {
            "text": "Symptoms and Outcome",
            "linkId": "symptoms-outcome",
            "type": "group",
            "required": false,
            "readOnly": true,
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                "valueCodeableConcept": {
                  "coding": [
                    {
                      "system": "http://hl7.org/fhir/questionnaire-item-control",
                      "code": "page",
                      "display": "Page"
                    }
                  ],
                  "text": "Page"
                }
              }
            ],
            "item": [
              {
                "linkId": "risk-0-female-2",
                "text": "DM Risk Score",
                "type": "integer",
                "required": false,
                "readOnly": true,
                "initial": [
                  {
                    "valueInteger": 0
                  }
                ],
                "enableWhen": [
                  {
                    "question": "hidden-gender",
                    "operator": "=",
                    "answerString": "Female"
                  },
                  {
                    "question": "hidden-waist-circumference",
                    "operator": "<=",
                    "answerInteger": 80
                  }
                ],
                "enableBehavior": "all"
              },
              {
                "linkId": "risk-0-male-2",
                "text": "DM Risk Score",
                "type": "integer",
                "required": false,
                "readOnly": true,
                "initial": [
                  {
                    "valueInteger": 0
                  }
                ],
                "enableWhen": [
                  {
                    "question": "hidden-gender",
                    "operator": "=",
                    "answerString": "Male"
                  },
                  {
                    "question": "hidden-waist-circumference",
                    "operator": "<=",
                    "answerInteger": 90
                  }
                ],
                "enableBehavior": "all"
              },
              {
                "linkId": "risk-1-female-2",
                "text": "DM Risk Score",
                "type": "integer",
                "required": false,
                "readOnly": true,
                "initial": [
                  {
                    "valueInteger": 1
                  }
                ],
                "enableWhen": [
                  {
                    "question": "hidden-gender",
                    "operator": "=",
                    "answerString": "Female"
                  },
                  {
                    "question": "hidden-waist-circumference",
                    "operator": ">",
                    "answerInteger": 80
                  },
                  {
                    "question": "hidden-waist-circumference",
                    "operator": "<=",
                    "answerInteger": 90
                  }
                ],
                "enableBehavior": "all"
              },
              {
                "linkId": "risk-1-male-2",
                "text": "DM Risk Score",
                "type": "integer",
                "required": false,
                "readOnly": true,
                "initial": [
                  {
                    "valueInteger": 1
                  }
                ],
                "enableWhen": [
                  {
                    "question": "hidden-gender",
                    "operator": "=",
                    "answerString": "Male"
                  },
                  {
                    "question": "hidden-waist-circumference",
                    "operator": ">",
                    "answerInteger": 90
                  },
                  {
                    "question": "hidden-waist-circumference",
                    "operator": "<=",
                    "answerInteger": 100
                  }
                ],
                "enableBehavior": "all"
              },
              {
                "linkId": "risk-2-female-2",
                "text": "DM Risk Score",
                "type": "integer",
                "required": false,
                "readOnly": true,
                "initial": [
                  {
                    "valueInteger": 2
                  }
                ],
                "enableWhen": [
                  {
                    "question": "hidden-gender",
                    "operator": "=",
                    "answerString": "Female"
                  },
                  {
                    "question": "hidden-waist-circumference",
                    "operator": ">",
                    "answerInteger": 90
                  }
                ],
                "enableBehavior": "all"
              },
              {
                "linkId": "risk-2-male-2",
                "text": "DM Risk Score",
                "type": "integer",
                "required": false,
                "readOnly": true,
                "initial": [
                  {
                    "valueInteger": 2
                  }
                ],
                "enableWhen": [
                  {
                    "question": "hidden-gender",
                    "operator": "=",
                    "answerString": "Male"
                  },
                  {
                    "question": "hidden-waist-circumference",
                    "operator": ">",
                    "answerInteger": 100
                  }
                ],
                "enableBehavior": "all"
              },
              {
                "text": "Are you presently experiencing any of the following symptom(s)?",
                "type": "choice",
                "linkId": "symptoms-choice",
                "repeats": true,
                "required": true,
                "answerOption": [
                  {
                    "valueCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "162116003",
                      "display": "Increased frequency of urination"
                    }
                  },
                  {
                    "valueCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "43959009",
                      "display": "Diabetic cataract"
                    }
                  },
                  {
                    "valueCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "249477003",
                      "display": "Increased Thirst"
                    }
                  },
                  {
                    "extension": [
                      {
                        "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-optionExclusive",
                        "valueBoolean": true
                      }
                    ],
                    "valueCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "161915001",
                      "display": "No general symptom"
                    }
                  }
                ]
              },
              {
                "linkId": "symptom-increased-urination",
                "type": "group",
                "extension": [
                  {
                    "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                    "valueExpression": {
                      "language": "application/x-fhir-query",
                      "expression": "Condition",
                      "name": "increasedFrequencyOfUrination"
                    }
                  },
                  {
                    "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                    "valueBoolean": true
                  }
                ],
                "enableWhen": [
                  {
                    "question": "symptoms-choice",
                    "operator": "=",
                    "answerCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "162116003",
                      "display": "Increased frequency of urination"
                    }
                  }
                ],
                "item": [
                  {
                    "type": "choice",
                    "linkId": "condition-increased-urination",
                    "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                    "initial": [
                      {
                        "valueCoding": {
                          "system": "http://snomed.info/sct",
                          "code": "162116003",
                          "display": "Increased frequency of urination"
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "linkId": "symptom-diabetic-cataract",
                "type": "group",
                "extension": [
                  {
                    "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                    "valueExpression": {
                      "language": "application/x-fhir-query",
                      "expression": "Condition",
                      "name": "diabeticCataract"
                    }
                  },
                  {
                    "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                    "valueBoolean": true
                  }
                ],
                "enableWhen": [
                  {
                    "question": "symptoms-choice",
                    "operator": "=",
                    "answerCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "43959009",
                      "display": "Diabetic cataract"
                    }
                  }
                ],
                "item": [
                  {
                    "type": "choice",
                    "linkId": "condition-diabetic-cataract",
                    "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                    "initial": [
                      {
                        "valueCoding": {
                          "system": "http://snomed.info/sct",
                          "code": "43959009",
                          "display": "Diabetic cataract"
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "linkId": "symptom-increased-thirst",
                "type": "group",
                "extension": [
                  {
                    "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                    "valueExpression": {
                      "language": "application/x-fhir-query",
                      "expression": "Condition",
                      "name": "increasedThirst"
                    }
                  },
                  {
                    "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                    "valueBoolean": true
                  }
                ],
                "enableWhen": [
                  {
                    "question": "symptoms-choice",
                    "operator": "=",
                    "answerCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "249477003",
                      "display": "Increased Thirst"
                    }
                  }
                ],
                "item": [
                  {
                    "type": "choice",
                    "linkId": "condition-increased-thirst",
                    "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                    "initial": [
                      {
                        "valueCoding": {
                          "system": "http://snomed.info/sct",
                          "code": "249477003",
                          "display": "Increased Thirst"
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "linkId": "no-symptoms",
                "type": "group",
                "extension": [
                  {
                    "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
                    "valueExpression": {
                      "language": "application/x-fhir-query",
                      "expression": "Condition",
                      "name": "noSymptoms"
                    }
                  },
                  {
                    "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                    "valueBoolean": true
                  }
                ],
                "enableWhen": [
                  {
                    "question": "symptoms-choice",
                    "operator": "=",
                    "answerCoding": {
                      "system": "http://snomed.info/sct",
                      "code": "161915001",
                      "display": "No general symptom"
                    }
                  }
                ],
                "item": [
                  {
                    "type": "choice",
                    "linkId": "no-general-symptom",
                    "definition": "http://hl7.org/fhir/StructureDefinition/Condition#Condition.code",
                    "initial": [
                      {
                        "valueCoding": {
                          "system": "http://snomed.info/sct",
                          "code": "161915001",
                          "display": "No general symptom"
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "text": "Remarks (optional)",
                "linkId": "remarks-optional",
                "type": "string",
                "required": false,
                "maxLength": 200
              }
            ]
          }
        ]
      },
      "request": {
        "method": "PUT",
        "url": "Questionnaire/DiabetesMellitusScreening"
      }
    }
  ]
}